// ==UserScript==
// @name        Eureka
// @description Universal scratch extension loader.
// @version     8.1
// @author      SimonShiki
// @include     https://scratch.mit.edu/projects/*
// @include     https://aerfaying.com/Projects/*
// @include     https://www.ccw.site/*
// @include     https://gitblock.cn/Projects/*
// @include     https://world.xiaomawang.com/*
// @include     https://cocrea.world/*
// @include     https://create.codelab.club/*
// @include     https://www.scratch-cn.cn/*
// @include     https://www.40code.com/*
// @include     https://turbowarp.org/*
// @include     https://codingclip.com/*
// @include     https://editor.turbowarp.cn/*
// @include     https://0832.ink/rc/*
// @include     https://code.xueersi.com/scratch3/*
// @include     https://play.creaticode.com/projects/*
// @include     https://www.adacraft.org/*
// @include     https://studio.penguinmod.com/*
// @include     https://code.xueersi.com/*
// @include     https://electramod.vercel.app/*
// @include     https://xplab.vercel.app/*
// @include     http://localhost:8601/*
// @downloadURL https://eureka.codingclip.cc/release/eureka-loader.user.js
// @grant       none
// @license     AGPL-3.0-only
// @namespace   EurekaLoader
// @run-at      document-start
// @source      https://github.com/EurekaScratch/eureka
// @updateURL   https://eureka.codingclip.cc/release/eureka-loader.user.js
// ==/UserScript==

/*! For license information please see eureka-loader.js.LICENSE.txt */
(()=>{var r,e,n,t,a,o,i={723:(r,e,n)=>{"use strict";n.a(r,(async(r,e)=>{try{var t=n(882),a=n(510);(0,a.Rm)("eureka-loader ".concat("8.1")),(0,t.Jb)();var o=await(0,t.xK)();o?(window.eureka.vm=o,(0,t.Ns)(o),(0,t.st)(o).then((function(r){return(0,t.qN)(r)}))):(0,a.Rm)("Cannot find vm in this page, stop injecting."),e()}catch(r){e(r)}}),1)},882:(r,e,n)=>{"use strict";n.d(e,{st:()=>Ir,xK:()=>Pr,Jb:()=>Tr,qN:()=>Cr,Ns:()=>Nr});var t=n(510),a={convertProcCall:!0,dontExposeCtx:!1,noConfirmDialog:!1,sideloadOnly:!0},o="$CHIBI_SETTINGS";function i(){try{var r=window.localStorage.getItem(o);return r?JSON.parse(r):null}catch(r){return null}}window.localStorage.getItem(o)||window.localStorage.setItem(o,JSON.stringify(a));var c=new Proxy(a,{get:function(r,e){var n=i();return n&&e in n?Reflect.get(n,e):Reflect.get(r,e)},set:function(r,e,n){var t=i();return t||(t=Object.assign({},a)),Reflect.set(t,e,n),window.localStorage.setItem(o,JSON.stringify(t)),!0}});const l=function(r){if("string"!=typeof r){if(!Array.isArray(r))return t.z3("Unexpected input recieved in replaceUnsafeChars"),r;r=String(r)}return r.replace(/[<>&'"]/g,(function(r){switch(r){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;"}return""}))};var u=function(r){return r.ANGLE="angle",r.BOOLEAN="Boolean",r.COLOR="color",r.NUMBER="number",r.STRING="string",r.MATRIX="matrix",r.NOTE="note",r.IMAGE="image",r}(u||{}),s=function(r){return r.BOOLEAN="Boolean",r.BUTTON="button",r.COMMAND="command",r.CONDITIONAL="conditional",r.EVENT="event",r.HAT="hat",r.LABEL="label",r.LOOP="loop",r.REPORTER="reporter",r.XML="xml",r}(s||{}),f=function(r){return r.GLOBAL="global",r.TARGET="target",r}(f||{}),d=function(r){return r.SPRITE="sprite",r.STAGE="stage",r}(d||{}),h=n(132),p=n.n(h);function y(r){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},y(r)}var v=function(r,e,n){return r&&"object"===y(r)&&r.id&&r.default?p()(r,e,n):r};function m(r){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},m(r)}function b(r,e){return function(r){if(Array.isArray(r))return r}(r)||function(r,e){var n=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=n){var t,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(r)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(t=o.call(n)).done)&&(c.push(t.value),c.length!==e);l=!0);}catch(r){u=!0,a=r}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(r,e)||g(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(r,e){if(r){if("string"==typeof r)return w(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);return"Object"===n&&r.constructor&&(n=r.constructor.name),"Map"===n||"Set"===n?Array.from(r):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(r,e):void 0}}function w(r,e){(null==e||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}function x(r,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,S(t.key),t)}}function k(r,e,n){return(e=S(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function S(r){var e=function(r,e){if("object"!=m(r)||!r)return r;var n=r[Symbol.toPrimitive];if(void 0!==n){var t=n.call(r,"string");if("object"!=m(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r);return"symbol"==m(e)?e:e+""}function E(r){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},E(r)}function O(r,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,A(t.key),t)}}function L(r,e,n){return e=M(e),function(r,e){if(e&&("object"===E(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(r){if(void 0===r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(r)}(r,j()?Reflect.construct(e,n||[],M(r).constructor):e.apply(r,n))}function j(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(r){}return(j=function(){return!!r})()}function M(r){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},M(r)}function _(r,e){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,e){return r.__proto__=e,r},_(r,e)}function I(r,e,n){return(e=A(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function A(r){var e=function(r,e){if("object"!=E(r)||!r)return r;var n=r[Symbol.toPrimitive];if(void 0!==n){var t=n.call(r,"string");if("object"!=E(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r);return"symbol"==E(e)?e:e+""}var T=new(function(r){function e(){var r;return function(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),I(r=L(this,e),"workerClass","undefined"==typeof Worker?null:Worker),I(r,"workers",[]),r.services={},r}return function(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&_(r,e)}(e,r),n=e,t=[{key:"callSync",value:function(r,e){var n=this._getServiceProvider(r),t=n.provider,a=n.isRemote;if(t){if(a)throw new Error("Cannot use 'callSync' on remote provider for service ".concat(r,"."));for(var o=arguments.length,i=new Array(o>2?o-2:0),c=2;c<o;c++)i[c-2]=arguments[c];return t[e].apply(t,i)}throw new Error("Provider not found for service: ".concat(r))}},{key:"setServiceSync",value:function(r,e){Object.prototype.hasOwnProperty.call(this.services,r)&&console.warn("Central dispatch replacing existing service provider for ".concat(r)),this.services[r]=e}},{key:"setService",value:function(r,e){try{return this.setServiceSync(r,e),Promise.resolve()}catch(r){return Promise.reject(r)}}},{key:"addWorker",value:function(r){-1===this.workers.indexOf(r)?(this.workers.push(r),r.onmessage=this._onMessage.bind(this,r),this._remoteCall(r,"dispatch","handshake").catch((function(r){console.error("Could not handshake with worker: ".concat(r))}))):console.warn("Central dispatch ignoring attempt to add duplicate worker")}},{key:"_getServiceProvider",value:function(r){var e=this.services[r];return e&&{provider:e,isRemote:Boolean(this.workerClass&&e instanceof this.workerClass||e.isRemote)}}},{key:"_onDispatchMessage",value:function(r,e){var n;switch(e.method){case"setService":if(!e.args){console.error("setService received empty argument");break}n=this.setService(String(e.args[0]),r);break;default:console.error("Central dispatch received message for unknown method: ".concat(e.method))}return n}}],t&&O(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,t}(function(){return r=function r(){!function(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),k(this,"callbacks",[]),k(this,"nextResponseId",0)},e=[{key:"call",value:function(r,e){for(var n=arguments.length,t=new Array(n>2?n-2:0),a=2;a<n;a++)t[a-2]=arguments[a];return this.transferCall.apply(this,[r,e,null].concat(t))}},{key:"transferCall",value:function(r,e,n){try{var t=this._getServiceProvider(r),a=t.provider,o=t.isRemote;if(a){for(var i=arguments.length,c=new Array(i>3?i-3:0),l=3;l<i;l++)c[l-3]=arguments[l];if(o)return this._remoteTransferCall.apply(this,[a,r,e,n].concat(c));var u=a[e].apply(a,c);return Promise.resolve(u)}return Promise.reject(new Error("Service not found: ".concat(r)))}catch(r){return Promise.reject(r)}}},{key:"_isRemoteService",value:function(r){return this._getServiceProvider(r).isRemote}},{key:"_remoteCall",value:function(r,e,n){for(var t=arguments.length,a=new Array(t>3?t-3:0),o=3;o<t;o++)a[o-3]=arguments[o];return this._remoteTransferCall.apply(this,[r,e,n,null].concat(a))}},{key:"_remoteTransferCall",value:function(r,e,n,t){for(var a=this,o=arguments.length,i=new Array(o>4?o-4:0),c=4;c<o;c++)i[c-4]=arguments[c];return new Promise((function(o,c){var l=a._storeCallbacks(o,c);i&&(i=a._purifyObject(i)),t?r.postMessage({service:e,method:n,responseId:l,args:i},t):r.postMessage({service:e,method:n,responseId:l,args:i})}))}},{key:"_storeCallbacks",value:function(r,e){var n=this.nextResponseId++;return this.callbacks[n]=[r,e],n}},{key:"_deliverResponse",value:function(r,e){try{var n=b(this.callbacks[r],2),t=n[0],a=n[1];delete this.callbacks[r],e.error?a(e.error):t(e.result)}catch(r){console.error("Dispatch callback failed: ".concat(r))}}},{key:"_onMessage",value:function(r,e){var n=e.data;n.args=n.args||[];var t,a=void 0;n.service?a="dispatch"===n.service?this._onDispatchMessage(r,n):this.call.apply(this,[n.service,n.method].concat(function(r){if(Array.isArray(r))return w(r)}(t=n.args)||function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(t)||g(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())):void 0===n.responseId?console.error("Dispatch caught malformed message from a worker: ".concat(JSON.stringify(e))):this._deliverResponse(n.responseId,n),a&&(void 0===n.responseId?console.error("Dispatch message missing required response ID: ".concat(JSON.stringify(e))):a.then((function(e){return r.postMessage({responseId:n.responseId,result:e})}),(function(e){return r.postMessage({responseId:n.responseId,error:"".concat(e)})})))}},{key:"_getServiceProvider",value:function(r){throw new Error("Could not get provider for ".concat(r,": _getServiceProvider not implemented"))}},{key:"_onDispatchMessage",value:function(r,e){throw new Error("Unimplemented dispatch message handler cannot handle ".concat(e.method," method"))}},{key:"_purifyObject",value:function(r){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if("function"!=typeof r&&"symbol"!==m(r)){if(null!==r&&"object"===m(r)){if(n.has(r))return;if(n.add(r),Array.isArray(r))return r.map((function(r){return e._purifyObject(r,n,t+1)}));for(var a={},o=0,i=Object.entries(r);o<i.length;o++){var c=b(i[o],2),l=c[0],u=c[1];a[l]=this._purifyObject(u,n,t+1)}return a}return r}}}],e&&x(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,e}()));function P(r){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},P(r)}function R(r,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,N(t.key),t)}}function N(r){var e=function(r,e){if("object"!=P(r)||!r)return r;var n=r[Symbol.toPrimitive];if(void 0!==n){var t=n.call(r,"string");if("object"!=P(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r);return"symbol"==P(e)?e:e+""}const C=function(){function r(){!function(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r)}return e=r,n=[{key:"RGB_BLACK",get:function(){return{r:0,g:0,b:0}}},{key:"RGB_WHITE",get:function(){return{r:255,g:255,b:255}}},{key:"decimalToHex",value:function(r){r<0&&(r+=16777216);var e=Number(r).toString(16);return"#".concat("000000".substr(0,6-e.length)).concat(e)}},{key:"decimalToRgb",value:function(r){var e=r>>24&255;return{r:r>>16&255,g:r>>8&255,b:255&r,a:e>0?e:255}}},{key:"hexToRgb",value:function(r){r.startsWith("#")&&(r=r.substring(1));var e=parseInt(r,16);if(isNaN(e))return null;if(6===r.length)return{r:e>>16&255,g:e>>8&255,b:255&e};if(3===r.length){var n=e>>8&15,t=e>>4&15,a=15&e;return{r:n<<4|n,g:t<<4|t,b:a<<4|a}}return null}},{key:"rgbToHex",value:function(e){return r.decimalToHex(r.rgbToDecimal(e))}},{key:"rgbToDecimal",value:function(r){if(null===r)throw new Error("rgb must be an RGBObject");return(r.r<<16)+(r.g<<8)+r.b}},{key:"hexToDecimal",value:function(e){return r.rgbToDecimal(r.hexToRgb(e))}},{key:"hsvToRgb",value:function(r){var e=r.h%360;e<0&&(e+=360);var n,t,a,o=Math.max(0,Math.min(r.s,1)),i=Math.max(0,Math.min(r.v,1)),c=Math.floor(e/60),l=e/60-c,u=i*(1-o),s=i*(1-o*l),f=i*(1-o*(1-l));switch(c){default:case 0:n=i,t=f,a=u;break;case 1:n=s,t=i,a=u;break;case 2:n=u,t=i,a=f;break;case 3:n=u,t=s,a=i;break;case 4:n=f,t=u,a=i;break;case 5:n=i,t=u,a=s}return{r:Math.floor(255*n),g:Math.floor(255*t),b:Math.floor(255*a)}}},{key:"rgbToHsv",value:function(r){var e=r.r/255,n=r.g/255,t=r.b/255,a=Math.min(Math.min(e,n),t),o=Math.max(Math.max(e,n),t),i=0,c=0;return a!==o&&(i=60*((e===a?3:n===a?5:1)-(e===a?n-t:n===a?t-e:e-n)/(o-a))%360,c=(o-a)/o),{h:i,s:c,v:o}}},{key:"mixRgb",value:function(r,e,n){if(n<=0)return r;if(n>=1)return e;var t=1-n;return{r:t*r.r+n*e.r,g:t*r.g+n*e.g,b:t*r.b+n*e.b}}}],null&&R(e.prototype,null),n&&R(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n}();function D(r){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},D(r)}function U(r,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,F(t.key),t)}}function F(r){var e=function(r,e){if("object"!=D(r)||!r)return r;var n=r[Symbol.toPrimitive];if(void 0!==n){var t=n.call(r,"string");if("object"!=D(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r);return"symbol"==D(e)?e:e+""}var B=function(r){if("string"!=typeof r)return!1;for(var e=0;e<r.length;e++){var n=r.charCodeAt(e);if(48===n||9===n)return!1}return!0},G=function(){function r(){!function(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r)}return e=r,n=[{key:"toNumber",value:function(r){if("number"==typeof r)return Number.isNaN(r)?0:r;var e=Number(r);return Number.isNaN(e)?0:e}},{key:"toBoolean",value:function(r){return"boolean"==typeof r?r:"string"==typeof r?""!==r&&"0"!==r&&"false"!==r.toLowerCase():Boolean(r)}},{key:"toString",value:function(r){return String(r)}},{key:"toRgbColorList",value:function(e){var n=r.toRgbColorObject(e);return[n.r,n.g,n.b]}},{key:"toRgbColorObject",value:function(e){var n;return"string"==typeof e&&"#"===e.substring(0,1)?(n=C.hexToRgb(e))||(n={r:0,g:0,b:0,a:255}):n=C.decimalToRgb(r.toNumber(e)),n}},{key:"isWhiteSpace",value:function(r){return null===r||"string"==typeof r&&0===r.trim().length}},{key:"compare",value:function(r,e){var n=Number(r),t=Number(e);if(0===n&&B(r)?n=NaN:0===t&&B(e)&&(t=NaN),isNaN(n)||isNaN(t)){var a=String(r).toLowerCase(),o=String(e).toLowerCase();return a<o?-1:a>o?1:0}return n===1/0&&t===1/0||n===-1/0&&t===-1/0?0:n-t}},{key:"isInt",value:function(r){return"number"==typeof r?!!isNaN(r)||r===Math.floor(r):"boolean"==typeof r||"string"==typeof r&&r.indexOf(".")<0}},{key:"LIST_INVALID",get:function(){return"INVALID"}},{key:"LIST_ALL",get:function(){return"ALL"}},{key:"toListIndex",value:function(e,n,t){if("number"!=typeof e){if("all"===e)return t?r.LIST_ALL:r.LIST_INVALID;if("last"===e)return n>0?n:r.LIST_INVALID;if("random"===e||"any"===e)return n>0?1+Math.floor(Math.random()*n):r.LIST_INVALID}return(e=Math.floor(r.toNumber(e)))<1||e>n?r.LIST_INVALID:e}}],null&&U(e.prototype,null),n&&U(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n}();function W(r){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},W(r)}function z(r){var e=p().namespace(),n=function(r,n){if(r&&"object"===W(r));else{if("string"!=typeof r)throw new Error("unsupported data type in translate()");r={default:r}}return e(r,n)},t=function(r){return"_".concat(r)},a=function(){return r?r.getLocale():"undefined"!=typeof navigator?navigator.language:"en"},o={};return n.setup=function(r){r&&(o=r),e.setup({locale:a(),missingTranslation:"ignore",generateId:t,translations:o})},n.setup({}),r&&r.on("LOCALE_CHANGED",(function(){n.setup(null)})),Object.defineProperty(n,"language",{configurable:!0,enumerable:!0,get:function(){return a()}}),n}function V(r){var e={ArgumentType:u,BlockType:s,TargetType:d,ReporterScope:f,Cast:G,extensions:{register:function(){throw new Error("not implemented")},unsandboxed:!!r,chibi:!0,eureka:!0},translate:z(r),fetch:function(r){function e(e,n){return r.apply(this,arguments)}return e.toString=function(){return r.toString()},e}((function(r,e){return fetch(r,e)})),canFetch:function(r){var e=function(r){try{return new URL(r,location.href)}catch(r){return null}}(r);return!!e}};return r&&(e.vm=r,e.renderer=r.runtime.renderer),e}var K=n(183),H=n.n(K);function J(){return H()('// ==UserScript==\n// @name        Eureka\n// @description Universal scratch extension loader.\n// @version     8.1\n// @author      SimonShiki\n// @include     https://scratch.mit.edu/projects/*\n// @include     https://aerfaying.com/Projects/*\n// @include     https://www.ccw.site/*\n// @include     https://gitblock.cn/Projects/*\n// @include     https://world.xiaomawang.com/*\n// @include     https://cocrea.world/*\n// @include     https://create.codelab.club/*\n// @include     https://www.scratch-cn.cn/*\n// @include     https://www.40code.com/*\n// @include     https://turbowarp.org/*\n// @include     https://codingclip.com/*\n// @include     https://editor.turbowarp.cn/*\n// @include     https://0832.ink/rc/*\n// @include     https://code.xueersi.com/scratch3/*\n// @include     https://play.creaticode.com/projects/*\n// @include     https://www.adacraft.org/*\n// @include     https://studio.penguinmod.com/*\n// @include     https://code.xueersi.com/*\n// @include     https://electramod.vercel.app/*\n// @include     https://xplab.vercel.app/*\n// @include     http://localhost:8601/*\n// @downloadURL https://eureka.codingclip.cc/release/eureka-loader.user.js\n// @grant       none\n// @license     AGPL-3.0-only\n// @namespace   EurekaLoader\n// @run-at      document-start\n// @source      https://github.com/EurekaScratch/eureka\n// @updateURL   https://eureka.codingclip.cc/release/eureka-loader.user.js\n// ==/UserScript==\n\n(()=>{var r={541:r=>{var n="long",e="short",t="narrow",a="numeric",i="2-digit";r.exports={number:{decimal:{style:"decimal"},integer:{style:"decimal",maximumFractionDigits:0},currency:{style:"currency",currency:"USD"},percent:{style:"percent"},default:{style:"decimal"}},date:{short:{month:a,day:a,year:i},medium:{month:e,day:a,year:a},long:{month:n,day:a,year:a},full:{month:n,day:a,year:a,weekday:n},default:{month:e,day:a,year:a}},time:{short:{hour:a,minute:a},medium:{hour:a,minute:a,second:a},long:{hour:a,minute:a,second:a,timeZoneName:e},full:{hour:a,minute:a,second:a,timeZoneName:e},default:{hour:a,minute:a,second:a}},duration:{default:{hours:{minimumIntegerDigits:1,maximumFractionDigits:0},minutes:{minimumIntegerDigits:2,maximumFractionDigits:0},seconds:{minimumIntegerDigits:2,maximumFractionDigits:3}}},parseNumberPattern:function(r){if(r){var n={},e=r.match(/\\b[A-Z]{3}\\b/i),t=r.replace(/[^¤]/g,"").length;if(!t&&e&&(t=1),t?(n.style="currency",n.currencyDisplay=1===t?"symbol":2===t?"code":"name",n.currency=e?e[0].toUpperCase():"USD"):r.indexOf("%")>=0&&(n.style="percent"),!/[@#0]/.test(r))return n.style?n:void 0;if(n.useGrouping=r.indexOf(",")>=0,/E\\+?[@#0]+/i.test(r)||r.indexOf("@")>=0){var a=r.replace(/E\\+?[@#0]+|[^@#0]/gi,"");n.minimumSignificantDigits=Math.min(Math.max(a.replace(/[^@0]/g,"").length,1),21),n.maximumSignificantDigits=Math.min(Math.max(a.length,1),21)}else{for(var i=r.replace(/[^#0.]/g,"").split("."),o=i[0],l=o.length-1;"0"===o[l];)--l;n.minimumIntegerDigits=Math.min(Math.max(o.length-1-l,1),21);var u=i[1]||"";for(l=0;"0"===u[l];)++l;for(n.minimumFractionDigits=Math.min(Math.max(l,0),20);"#"===u[l];)++l;n.maximumFractionDigits=Math.min(Math.max(l,0),20)}return n}},parseDatePattern:function(r){if(r){for(var o={},l=0;l<r.length;){for(var u=r[l],c=1;r[++l]===u;)++c;switch(u){case"G":o.era=5===c?t:4===c?n:e;break;case"y":case"Y":o.year=2===c?i:a;break;case"M":case"L":c=Math.min(Math.max(c-1,0),4),o.month=[a,i,e,n,t][c];break;case"E":case"e":case"c":o.weekday=5===c?t:4===c?n:e;break;case"d":case"D":o.day=2===c?i:a;break;case"h":case"K":o.hour12=!0,o.hour=2===c?i:a;break;case"H":case"k":o.hour12=!1,o.hour=2===c?i:a;break;case"m":o.minute=2===c?i:a;break;case"s":case"S":o.second=2===c?i:a;break;case"z":case"Z":case"v":case"V":o.timeZoneName=1===c?e:n}}return Object.keys(o).length?o:void 0}}}},280:(r,n,e)=>{"use strict";var t=e(541),a=e(450),i=e(235);function o(r,n,e,t,a){var i=r.map((function(r){return function(r,n,e,t,a){if("string"==typeof r){var i=r;return function(){return i}}var u,c=r[0],s=r[1];if(n&&"#"===r[0]){c=n[0];var f=n[2],h=(t.number||d.number)([c,"number"],e);return function(r){return h(l(c,r)-f,r)}}"plural"===s||"selectordinal"===s?(u={},Object.keys(r[3]).forEach((function(n){u[n]=o(r[3][n],r,e,t,a)})),r=[r[0],r[1],r[2],u]):r[2]&&"object"==typeof r[2]&&(u={},Object.keys(r[2]).forEach((function(n){u[n]=o(r[2][n],r,e,t,a)})),r=[r[0],r[1],u]);var p=s&&(t[s]||d[s]);if(p){var m=p(r,e);return function(r){return m(l(c,r),r)}}return a?function(r){return String(l(c,r))}:function(r){return l(c,r)}}(r,n,e,t,a)}));return a?1===i.length?i[0]:function(r){for(var n="",e=0;e<i.length;++e)n+=i[e](r);return n}:function(r){return i.reduce((function(n,e){return n.concat(e(r))}),[])}}function l(r,n){if(n&&r in n)return n[r];for(var e=r.split("."),t=n,a=0,i=e.length;t&&a<i;++a)t=t[e[a]];return t}function u(r,n){var e=r[2],a=t.number[e]||t.parseNumberPattern(e)||t.number.default;return new Intl.NumberFormat(n,a).format}function c(r,n){var e=r[1],a=r[2],i=t[e][a]||t.parseDatePattern(a)||t[e].default;return new Intl.DateTimeFormat(n,i).format}function s(r,n){var e,t="selectordinal"===r[1]?"ordinal":"cardinal",o=r[2],l=r[3];if(Intl.PluralRules&&Intl.PluralRules.supportedLocalesOf(n).length>0)e=new Intl.PluralRules(n,{type:t});else{var u=a(n,i),c=u&&i[u][t]||f;e={select:c}}return function(r,n){return(l["="+ +r]||l[e.select(r-o)]||l.other)(n)}}function f(){return"other"}(n=r.exports=function(r,n,e){return o(r,null,n||"en",e||{},!0)}).toParts=function(r,n,e){return o(r,null,n||"en",e||{},!1)};var d={number:u,ordinal:u,spellout:u,duration:function(r,n){var e=r[2],a=t.duration[e]||t.duration.default,i=new Intl.NumberFormat(n,a.seconds).format,o=new Intl.NumberFormat(n,a.minutes).format,l=new Intl.NumberFormat(n,a.hours).format,u=/^fi$|^fi-|^da/.test(String(n))?".":":";return function(r,n){if(r=+r,!isFinite(r))return i(r);var e=~~(r/60/60),t=~~(r/60%60),a=(e?l(Math.abs(e))+u:"")+o(Math.abs(t))+u+i(Math.abs(r%60));return r<0?l(-1).replace(l(1),a):a}},date:c,time:c,plural:s,selectordinal:s,select:function(r,n){var e=r[2];return function(r,n){return(e[r]||e.other)(n)}}};n.types=d},235:r=>{"use strict";var n="zero",e="one",t="two",a="few",i="many",o="other",l=[function(r){return 1==+r?e:o},function(r){var n=+r;return 0<=n&&n<=1?e:o},function(r){return 0===Math.floor(Math.abs(+r))||1==+r?e:o},function(r){var l=+r;return 0===l?n:1===l?e:2===l?t:3<=l%100&&l%100<=10?a:11<=l%100&&l%100<=99?i:o},function(r){var n=Math.floor(Math.abs(+r)),t=(r+".").split(".")[1].length;return 1===n&&0===t?e:o},function(r){var n=+r;return n%10==1&&n%100!=11?e:2<=n%10&&n%10<=4&&(n%100<12||14<n%100)?a:n%10==0||5<=n%10&&n%10<=9||11<=n%100&&n%100<=14?i:o},function(r){var n=+r;return n%10==1&&n%100!=11&&n%100!=71&&n%100!=91?e:n%10==2&&n%100!=12&&n%100!=72&&n%100!=92?t:(3<=n%10&&n%10<=4||n%10==9)&&(n%100<10||19<n%100)&&(n%100<70||79<n%100)&&(n%100<90||99<n%100)?a:0!==n&&n%1e6==0?i:o},function(r){var n=Math.floor(Math.abs(+r)),t=(r+".").split(".")[1].length,i=+(r+".").split(".")[1];return 0===t&&n%10==1&&n%100!=11||i%10==1&&i%100!=11?e:0===t&&2<=n%10&&n%10<=4&&(n%100<12||14<n%100)||2<=i%10&&i%10<=4&&(i%100<12||14<i%100)?a:o},function(r){var n=Math.floor(Math.abs(+r)),t=(r+".").split(".")[1].length;return 1===n&&0===t?e:2<=n&&n<=4&&0===t?a:0!==t?i:o},function(r){var l=+r;return 0===l?n:1===l?e:2===l?t:3===l?a:6===l?i:o},function(r){var n=Math.floor(Math.abs(+r)),t=+(""+r).replace(/^[^.]*.?|0+$/g,"");return 1==+r||0!==t&&(0===n||1===n)?e:o},function(r){var n=Math.floor(Math.abs(+r)),i=(r+".").split(".")[1].length,l=+(r+".").split(".")[1];return 0===i&&n%100==1||l%100==1?e:0===i&&n%100==2||l%100==2?t:0===i&&3<=n%100&&n%100<=4||3<=l%100&&l%100<=4?a:o},function(r){var n=Math.floor(Math.abs(+r));return 0===n||1===n?e:o},function(r){var n=Math.floor(Math.abs(+r)),t=(r+".").split(".")[1].length,a=+(r+".").split(".")[1];return 0===t&&(1===n||2===n||3===n)||0===t&&n%10!=4&&n%10!=6&&n%10!=9||0!==t&&a%10!=4&&a%10!=6&&a%10!=9?e:o},function(r){var n=+r;return 1===n?e:2===n?t:3<=n&&n<=6?a:7<=n&&n<=10?i:o},function(r){var n=+r;return 1===n||11===n?e:2===n||12===n?t:3<=n&&n<=10||13<=n&&n<=19?a:o},function(r){var n=Math.floor(Math.abs(+r)),l=(r+".").split(".")[1].length;return 0===l&&n%10==1?e:0===l&&n%10==2?t:0!==l||n%100!=0&&n%100!=20&&n%100!=40&&n%100!=60&&n%100!=80?0!==l?i:o:a},function(r){var n=Math.floor(Math.abs(+r)),a=(r+".").split(".")[1].length,l=+r;return 1===n&&0===a?e:2===n&&0===a?t:0===a&&(l<0||10<l)&&l%10==0?i:o},function(r){var n=Math.floor(Math.abs(+r)),t=+(""+r).replace(/^[^.]*.?|0+$/g,"");return 0===t&&n%10==1&&n%100!=11||0!==t?e:o},function(r){var n=+r;return 1===n?e:2===n?t:o},function(r){var t=+r;return 0===t?n:1===t?e:o},function(r){var t=Math.floor(Math.abs(+r)),a=+r;return 0===a?n:0!==t&&1!==t||0===a?o:e},function(r){var n=+(r+".").split(".")[1],t=+r;return t%10==1&&(t%100<11||19<t%100)?e:2<=t%10&&t%10<=9&&(t%100<11||19<t%100)?a:0!==n?i:o},function(r){var t=(r+".").split(".")[1].length,a=+(r+".").split(".")[1],i=+r;return i%10==0||11<=i%100&&i%100<=19||2===t&&11<=a%100&&a%100<=19?n:i%10==1&&i%100!=11||2===t&&a%10==1&&a%100!=11||2!==t&&a%10==1?e:o},function(r){var n=Math.floor(Math.abs(+r)),t=(r+".").split(".")[1].length,a=+(r+".").split(".")[1];return 0===t&&n%10==1&&n%100!=11||a%10==1&&a%100!=11?e:o},function(r){var n=Math.floor(Math.abs(+r)),t=(r+".").split(".")[1].length,i=+r;return 1===n&&0===t?e:0!==t||0===i||1!==i&&1<=i%100&&i%100<=19?a:o},function(r){var n=+r;return 1===n?e:0===n||2<=n%100&&n%100<=10?a:11<=n%100&&n%100<=19?i:o},function(r){var n=Math.floor(Math.abs(+r)),t=(r+".").split(".")[1].length;return 1===n&&0===t?e:0===t&&2<=n%10&&n%10<=4&&(n%100<12||14<n%100)?a:0===t&&1!==n&&0<=n%10&&n%10<=1||0===t&&5<=n%10&&n%10<=9||0===t&&12<=n%100&&n%100<=14?i:o},function(r){var n=Math.floor(Math.abs(+r));return 0<=n&&n<=1?e:o},function(r){var n=Math.floor(Math.abs(+r)),t=(r+".").split(".")[1].length;return 0===t&&n%10==1&&n%100!=11?e:0===t&&2<=n%10&&n%10<=4&&(n%100<12||14<n%100)?a:0===t&&n%10==0||0===t&&5<=n%10&&n%10<=9||0===t&&11<=n%100&&n%100<=14?i:o},function(r){var n=+r;return 0===Math.floor(Math.abs(+r))||1===n?e:2<=n&&n<=10?a:o},function(r){var n=Math.floor(Math.abs(+r)),t=+(r+".").split(".")[1],a=+r;return 0===a||1===a||0===n&&1===t?e:o},function(r){var n=Math.floor(Math.abs(+r)),i=(r+".").split(".")[1].length;return 0===i&&n%100==1?e:0===i&&n%100==2?t:0===i&&3<=n%100&&n%100<=4||0!==i?a:o},function(r){var n=+r;return 0<=n&&n<=1||11<=n&&n<=99?e:o},function(r){var n=+r;return 1===n||5===n||7===n||8===n||9===n||10===n?e:2===n||3===n?t:4===n?a:6===n?i:o},function(r){var n=Math.floor(Math.abs(+r));return n%10==1||n%10==2||n%10==5||n%10==7||n%10==8||n%100==20||n%100==50||n%100==70||n%100==80?e:n%10==3||n%10==4||n%1e3==100||n%1e3==200||n%1e3==300||n%1e3==400||n%1e3==500||n%1e3==600||n%1e3==700||n%1e3==800||n%1e3==900?a:0===n||n%10==6||n%100==40||n%100==60||n%100==90?i:o},function(r){var n=+r;return n%10!=2&&n%10!=3||n%100==12||n%100==13?o:a},function(r){var n=+r;return 1===n||3===n?e:2===n?t:4===n?a:o},function(r){var l=+r;return 0===l||7===l||8===l||9===l?n:1===l?e:2===l?t:3===l||4===l?a:5===l||6===l?i:o},function(r){var n=+r;return n%10==1&&n%100!=11?e:n%10==2&&n%100!=12?t:n%10==3&&n%100!=13?a:o},function(r){var n=+r;return 1===n||11===n?e:2===n||12===n?t:3===n||13===n?a:o},function(r){var n=+r;return 1===n?e:2===n||3===n?t:4===n?a:6===n?i:o},function(r){var n=+r;return 1===n||5===n?e:o},function(r){var n=+r;return 11===n||8===n||80===n||800===n?i:o},function(r){var n=Math.floor(Math.abs(+r));return 1===n?e:0===n||2<=n%100&&n%100<=20||n%100==40||n%100==60||n%100==80?i:o},function(r){var n=+r;return n%10==6||n%10==9||n%10==0&&0!==n?i:o},function(r){var n=Math.floor(Math.abs(+r));return n%10==1&&n%100!=11?e:n%10==2&&n%100!=12?t:n%10!=7&&n%10!=8||n%100==17||n%100==18?o:i},function(r){var n=+r;return 1===n?e:2===n||3===n?t:4===n?a:o},function(r){var n=+r;return 1<=n&&n<=4?e:o},function(r){var n=+r;return 1===n||5===n||7<=n&&n<=9?e:2===n||3===n?t:4===n?a:6===n?i:o},function(r){var n=+r;return 1===n?e:n%10==4&&n%100!=14?i:o},function(r){var n=+r;return n%10!=1&&n%10!=2||n%100==11||n%100==12?o:e},function(r){var n=+r;return n%10==6||n%10==9||10===n?a:o},function(r){var n=+r;return n%10==3&&n%100!=13?a:o}];r.exports={af:{cardinal:l[0]},ak:{cardinal:l[1]},am:{cardinal:l[2]},ar:{cardinal:l[3]},ars:{cardinal:l[3]},as:{cardinal:l[2],ordinal:l[34]},asa:{cardinal:l[0]},ast:{cardinal:l[4]},az:{cardinal:l[0],ordinal:l[35]},be:{cardinal:l[5],ordinal:l[36]},bem:{cardinal:l[0]},bez:{cardinal:l[0]},bg:{cardinal:l[0]},bh:{cardinal:l[1]},bn:{cardinal:l[2],ordinal:l[34]},br:{cardinal:l[6]},brx:{cardinal:l[0]},bs:{cardinal:l[7]},ca:{cardinal:l[4],ordinal:l[37]},ce:{cardinal:l[0]},cgg:{cardinal:l[0]},chr:{cardinal:l[0]},ckb:{cardinal:l[0]},cs:{cardinal:l[8]},cy:{cardinal:l[9],ordinal:l[38]},da:{cardinal:l[10]},de:{cardinal:l[4]},dsb:{cardinal:l[11]},dv:{cardinal:l[0]},ee:{cardinal:l[0]},el:{cardinal:l[0]},en:{cardinal:l[4],ordinal:l[39]},eo:{cardinal:l[0]},es:{cardinal:l[0]},et:{cardinal:l[4]},eu:{cardinal:l[0]},fa:{cardinal:l[2]},ff:{cardinal:l[12]},fi:{cardinal:l[4]},fil:{cardinal:l[13],ordinal:l[0]},fo:{cardinal:l[0]},fr:{cardinal:l[12],ordinal:l[0]},fur:{cardinal:l[0]},fy:{cardinal:l[4]},ga:{cardinal:l[14],ordinal:l[0]},gd:{cardinal:l[15],ordinal:l[40]},gl:{cardinal:l[4]},gsw:{cardinal:l[0]},gu:{cardinal:l[2],ordinal:l[41]},guw:{cardinal:l[1]},gv:{cardinal:l[16]},ha:{cardinal:l[0]},haw:{cardinal:l[0]},he:{cardinal:l[17]},hi:{cardinal:l[2],ordinal:l[41]},hr:{cardinal:l[7]},hsb:{cardinal:l[11]},hu:{cardinal:l[0],ordinal:l[42]},hy:{cardinal:l[12],ordinal:l[0]},ia:{cardinal:l[4]},io:{cardinal:l[4]},is:{cardinal:l[18]},it:{cardinal:l[4],ordinal:l[43]},iu:{cardinal:l[19]},iw:{cardinal:l[17]},jgo:{cardinal:l[0]},ji:{cardinal:l[4]},jmc:{cardinal:l[0]},ka:{cardinal:l[0],ordinal:l[44]},kab:{cardinal:l[12]},kaj:{cardinal:l[0]},kcg:{cardinal:l[0]},kk:{cardinal:l[0],ordinal:l[45]},kkj:{cardinal:l[0]},kl:{cardinal:l[0]},kn:{cardinal:l[2]},ks:{cardinal:l[0]},ksb:{cardinal:l[0]},ksh:{cardinal:l[20]},ku:{cardinal:l[0]},kw:{cardinal:l[19]},ky:{cardinal:l[0]},lag:{cardinal:l[21]},lb:{cardinal:l[0]},lg:{cardinal:l[0]},ln:{cardinal:l[1]},lt:{cardinal:l[22]},lv:{cardinal:l[23]},mas:{cardinal:l[0]},mg:{cardinal:l[1]},mgo:{cardinal:l[0]},mk:{cardinal:l[24],ordinal:l[46]},ml:{cardinal:l[0]},mn:{cardinal:l[0]},mo:{cardinal:l[25],ordinal:l[0]},mr:{cardinal:l[2],ordinal:l[47]},mt:{cardinal:l[26]},nah:{cardinal:l[0]},naq:{cardinal:l[19]},nb:{cardinal:l[0]},nd:{cardinal:l[0]},ne:{cardinal:l[0],ordinal:l[48]},nl:{cardinal:l[4]},nn:{cardinal:l[0]},nnh:{cardinal:l[0]},no:{cardinal:l[0]},nr:{cardinal:l[0]},nso:{cardinal:l[1]},ny:{cardinal:l[0]},nyn:{cardinal:l[0]},om:{cardinal:l[0]},or:{cardinal:l[0],ordinal:l[49]},os:{cardinal:l[0]},pa:{cardinal:l[1]},pap:{cardinal:l[0]},pl:{cardinal:l[27]},prg:{cardinal:l[23]},ps:{cardinal:l[0]},pt:{cardinal:l[28]},"pt-PT":{cardinal:l[4]},rm:{cardinal:l[0]},ro:{cardinal:l[25],ordinal:l[0]},rof:{cardinal:l[0]},ru:{cardinal:l[29]},rwk:{cardinal:l[0]},saq:{cardinal:l[0]},sc:{cardinal:l[4],ordinal:l[43]},scn:{cardinal:l[4],ordinal:l[43]},sd:{cardinal:l[0]},sdh:{cardinal:l[0]},se:{cardinal:l[19]},seh:{cardinal:l[0]},sh:{cardinal:l[7]},shi:{cardinal:l[30]},si:{cardinal:l[31]},sk:{cardinal:l[8]},sl:{cardinal:l[32]},sma:{cardinal:l[19]},smi:{cardinal:l[19]},smj:{cardinal:l[19]},smn:{cardinal:l[19]},sms:{cardinal:l[19]},sn:{cardinal:l[0]},so:{cardinal:l[0]},sq:{cardinal:l[0],ordinal:l[50]},sr:{cardinal:l[7]},ss:{cardinal:l[0]},ssy:{cardinal:l[0]},st:{cardinal:l[0]},sv:{cardinal:l[4],ordinal:l[51]},sw:{cardinal:l[4]},syr:{cardinal:l[0]},ta:{cardinal:l[0]},te:{cardinal:l[0]},teo:{cardinal:l[0]},ti:{cardinal:l[1]},tig:{cardinal:l[0]},tk:{cardinal:l[0],ordinal:l[52]},tl:{cardinal:l[13],ordinal:l[0]},tn:{cardinal:l[0]},tr:{cardinal:l[0]},ts:{cardinal:l[0]},tzm:{cardinal:l[33]},ug:{cardinal:l[0]},uk:{cardinal:l[29],ordinal:l[53]},ur:{cardinal:l[4]},uz:{cardinal:l[0]},ve:{cardinal:l[0]},vo:{cardinal:l[0]},vun:{cardinal:l[0]},wa:{cardinal:l[1]},wae:{cardinal:l[0]},xh:{cardinal:l[0]},xog:{cardinal:l[0]},yi:{cardinal:l[4]},zu:{cardinal:l[2]},lo:{ordinal:l[0]},ms:{ordinal:l[0]},vi:{ordinal:l[0]}}},194:(r,n)=>{"use strict";var e="{",t="}",a=",",i="#",o="<",l=">",u="</",c="/>",s="\'",f="offset:",d=["number","date","time","ordinal","duration","spellout"],h=["plural","select","selectordinal"];function p(r,n){var e=r.pattern,a=e.length,i=[],o=r.index,l=m(r,n);for(l&&i.push(l),l&&r.tokens&&r.tokens.push(["text",e.slice(o,r.index)]);r.index<a;){if(e[r.index]===t){if(!n)throw S(r);break}if(n&&r.tagsType&&e.slice(r.index,r.index+u.length)===u)break;i.push(v(r)),o=r.index,(l=m(r,n))&&i.push(l),l&&r.tokens&&r.tokens.push(["text",e.slice(o,r.index)])}return i}function m(r,n){for(var a=r.pattern,l=a.length,u="plural"===n||"selectordinal"===n,c=!!r.tagsType,f="{style}"===n,d="";r.index<l;){var h=a[r.index];if(h===e||h===t||u&&h===i||c&&h===o||f&&y(h.charCodeAt(0)))break;if(h===s)if((h=a[++r.index])===s)d+=h,++r.index;else if(h===e||h===t||u&&h===i||c&&h===o||f)for(d+=h;++r.index<l;)if((h=a[r.index])===s&&a[r.index+1]===s)d+=s,++r.index;else{if(h===s){++r.index;break}d+=h}else d+=s;else d+=h,++r.index}return d}function y(r){return r>=9&&r<=13||32===r||133===r||160===r||6158===r||r>=8192&&r<=8205||8232===r||8233===r||8239===r||8287===r||8288===r||12288===r||65279===r}function b(r){for(var n=r.pattern,e=n.length,t=r.index;r.index<e&&y(n.charCodeAt(r.index));)++r.index;t<r.index&&r.tokens&&r.tokens.push(["space",r.pattern.slice(t,r.index)])}function v(r){var n=r.pattern;if(n[r.index]===i)return r.tokens&&r.tokens.push(["syntax",i]),++r.index,[i];var s=function(r){var n=r.tagsType;if(n&&r.pattern[r.index]===o){if(r.pattern.slice(r.index,r.index+u.length)===u)throw S(r,null,"closing tag without matching opening tag");r.tokens&&r.tokens.push(["syntax",o]),++r.index;var e=g(r,!0);if(!e)throw S(r,"placeholder id");if(r.tokens&&r.tokens.push(["id",e]),b(r),r.pattern.slice(r.index,r.index+c.length)===c)return r.tokens&&r.tokens.push(["syntax",c]),r.index+=c.length,[e,n];if(r.pattern[r.index]!==l)throw S(r,l);r.tokens&&r.tokens.push(["syntax",l]),++r.index;var t=p(r,n),a=r.index;if(r.pattern.slice(r.index,r.index+u.length)!==u)throw S(r,u+e+l);r.tokens&&r.tokens.push(["syntax",u]),r.index+=u.length;var i=g(r,!0);if(i&&r.tokens&&r.tokens.push(["id",i]),e!==i)throw r.index=a,S(r,u+e+l,u+i+l);if(b(r),r.pattern[r.index]!==l)throw S(r,l);return r.tokens&&r.tokens.push(["syntax",l]),++r.index,[e,n,{children:t}]}}(r);if(s)return s;if(n[r.index]!==e)throw S(r,e);r.tokens&&r.tokens.push(["syntax",e]),++r.index,b(r);var h=g(r);if(!h)throw S(r,"placeholder id");r.tokens&&r.tokens.push(["id",h]),b(r);var m=n[r.index];if(m===t)return r.tokens&&r.tokens.push(["syntax",t]),++r.index,[h];if(m!==a)throw S(r,a+" or "+t);r.tokens&&r.tokens.push(["syntax",a]),++r.index,b(r);var y,v=g(r);if(!v)throw S(r,"placeholder type");if(r.tokens&&r.tokens.push(["type",v]),b(r),(m=n[r.index])===t){if(r.tokens&&r.tokens.push(["syntax",t]),"plural"===v||"selectordinal"===v||"select"===v)throw S(r,v+" sub-messages");return++r.index,[h,v]}if(m!==a)throw S(r,a+" or "+t);if(r.tokens&&r.tokens.push(["syntax",a]),++r.index,b(r),"plural"===v||"selectordinal"===v){var w=function(r){var n,e=r.pattern,t=e.length,a=0;if(e.slice(r.index,r.index+f.length)===f){r.tokens&&r.tokens.push(["offset","offset"],["syntax",":"]),r.index+=f.length,b(r);for(var i=r.index;r.index<t&&((n=e.charCodeAt(r.index))>=48&&n<=57);)++r.index;if(i===r.index)throw S(r,"offset number");r.tokens&&r.tokens.push(["number",e.slice(i,r.index)]),a=+e.slice(i,r.index)}return a}(r);b(r),y=[h,v,w,k(r,v)]}else if("select"===v)y=[h,v,k(r,v)];else if(d.indexOf(v)>=0)y=[h,v,x(r)];else{var M=r.index,O=x(r);b(r),n[r.index]===e&&(r.index=M,O=k(r,v)),y=[h,v,O]}if(b(r),n[r.index]!==t)throw S(r,t);return r.tokens&&r.tokens.push(["syntax",t]),++r.index,y}function g(r,n){for(var u=r.pattern,c=u.length,f="";r.index<c;){var d=u[r.index];if(d===e||d===t||d===a||d===i||d===s||y(d.charCodeAt(0))||n&&(d===o||d===l||"/"===d))break;f+=d,++r.index}return f}function x(r){var n=r.index,e=m(r,"{style}");if(!e)throw S(r,"placeholder style name");return r.tokens&&r.tokens.push(["style",r.pattern.slice(n,r.index)]),e}function k(r,n){for(var e=r.pattern,a=e.length,i={};r.index<a&&e[r.index]!==t;){var o=g(r);if(!o)throw S(r,"sub-message selector");r.tokens&&r.tokens.push(["selector",o]),b(r),i[o]=w(r,n),b(r)}if(!i.other&&h.indexOf(n)>=0)throw S(r,null,null,\'"other" sub-message must be specified in \'+n);return i}function w(r,n){if(r.pattern[r.index]!==e)throw S(r,e+" to start sub-message");r.tokens&&r.tokens.push(["syntax",e]),++r.index;var a=p(r,n);if(r.pattern[r.index]!==t)throw S(r,t+" to end sub-message");return r.tokens&&r.tokens.push(["syntax",t]),++r.index,a}function S(r,n,e,t){var a=r.pattern,i=a.slice(0,r.index).split(/\\r?\\n/),o=r.index,l=i.length,u=i.slice(-1)[0].length;return e=e||(r.index>=a.length?"end of message pattern":g(r)||a[r.index]),t||(t=function(r,n){return r?"Expected "+r+" but found "+n:"Unexpected "+n+" found"}(n,e)),new M(t+=" in "+a.replace(/\\r?\\n/g,"\\n"),n,e,o,l,u)}function M(r,n,e,t,a,i){Error.call(this,r),this.name="SyntaxError",this.message=r,this.expected=n,this.found=e,this.offset=t,this.line=a,this.column=i}n=r.exports=function(r,n){return p({pattern:String(r),index:0,tagsType:n&&n.tagsType||null,tokens:n&&n.tokens||null},"")},M.prototype=Object.create(Error.prototype),n.SyntaxError=M},132:(r,n,e)=>{"use strict";var t=e(194),a=e(280),i=e(235),o=e(450),l=e(541);function u(r,n){return Object.keys(n).forEach((function(e){r[e]=n[e]})),r}r.exports=function r(){var n=u({},l),e="en",c={},s=function(r){return r},f=null,d="warning",h={};function p(r,n,i){var o="string"==typeof r?r:r.default,l=b(o,"object"==typeof r&&r.id||s(o),i||e);return(l.format||(l.format=a(t(l.message),i||e,h)))(n)}p.rich=function(r,n,i){var o="string"==typeof r?r:r.default,l=b(o,"object"==typeof r&&r.id||s(o),i||e);return(l.toParts||(l.toParts=a.toParts(t(l.message,{tagsType:m}),i||e,h)))(n)};var m="<>";function y(r,n){var e=r[2];return function(r,n){var t="object"==typeof e?function(r,n){return Object.keys(r).reduce((function(e,t){return e[t]=r[t](n),e}),{})}(e,n):e;return"function"==typeof r?r(t):r}}function b(r,n,e){var t=o(e,c)||"en",a=c[t]||(c[t]={}),i=a[n];if("string"==typeof i&&(i=a[n]={message:i}),!i){var l=\'Translation for "\'+n+\'" in "\'+t+\'" is missing\';if("warning"===d)"undefined"!=typeof console&&console.warn(l);else if("ignore"!==d)throw new Error(l);var u="function"==typeof f?f(r,n,t)||r:f||r;i=a[n]={message:u}}return i}function v(r,n,t,a,l){"object"==typeof t&&"object"!=typeof a&&(l=a,a=t,t=0);var u=o(l||e,i),c=u&&i[u][r]||g;return a["="+ +n]||a[c(n-t)]||a.other}function g(){return"other"}return h[m]=y,p.setup=function(r){return(r=r||{}).locale&&(e=r.locale),"translations"in r&&(c=r.translations||{}),r.generateId&&(s=r.generateId),"missingReplacement"in r&&(f=r.missingReplacement),r.missingTranslation&&(d=r.missingTranslation),r.formats&&(r.formats.number&&u(n.number,r.formats.number),r.formats.date&&u(n.date,r.formats.date),r.formats.time&&u(n.time,r.formats.time)),r.types&&((h=r.types)[m]=y),{locale:e,translations:c,generateId:s,missingReplacement:f,missingTranslation:d,formats:n,types:h}},p.number=function(r,t,a){var i=t&&n.number[t]||n.parseNumberPattern(t)||n.number.default;return new Intl.NumberFormat(a||e,i).format(r)},p.date=function(r,t,a){var i=t&&n.date[t]||n.parseDatePattern(t)||n.date.default;return new Intl.DateTimeFormat(a||e,i).format(r)},p.time=function(r,t,a){var i=t&&n.time[t]||n.parseDatePattern(t)||n.time.default;return new Intl.DateTimeFormat(a||e,i).format(r)},p.select=function(r,n){return n[r]||n.other},p.custom=function(r,n,e,t){return r[1]in h?h[r[1]](r,n)(e,t):e},p.plural=v.bind(null,"cardinal"),p.selectordinal=v.bind(null,"ordinal"),p.namespace=r,p}()},450:r=>{r.exports=function(r,n){if("string"==typeof r&&n[r])return r;for(var e=[].concat(r||[]),t=0,a=e.length;t<a;++t)for(var i=e[t].split("-");i.length;){var o=i.join("-");if(n[o])return o;i.pop()}}}},n={};function e(t){var a=n[t];if(void 0!==a)return a.exports;var i=n[t]={exports:{}};return r[t](i,i.exports,e),i.exports}e.n=r=>{var n=r&&r.__esModule?()=>r.default:()=>r;return e.d(n,{a:n}),n},e.d=(r,n)=>{for(var t in n)e.o(n,t)&&!e.o(r,t)&&Object.defineProperty(r,t,{enumerable:!0,get:n[t]})},e.o=(r,n)=>Object.prototype.hasOwnProperty.call(r,n),(()=>{"use strict";var r=function(r){return r.ANGLE="angle",r.BOOLEAN="Boolean",r.COLOR="color",r.NUMBER="number",r.STRING="string",r.MATRIX="matrix",r.NOTE="note",r.IMAGE="image",r}(r||{}),n=function(r){return r.BOOLEAN="Boolean",r.BUTTON="button",r.COMMAND="command",r.CONDITIONAL="conditional",r.EVENT="event",r.HAT="hat",r.LABEL="label",r.LOOP="loop",r.REPORTER="reporter",r.XML="xml",r}(n||{}),t=function(r){return r.GLOBAL="global",r.TARGET="target",r}(t||{}),a=function(r){return r.SPRITE="sprite",r.STAGE="stage",r}(a||{});function i(r){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},i(r)}function o(r,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,l(t.key),t)}}function l(r){var n=function(r,n){if("object"!=i(r)||!r)return r;var e=r[Symbol.toPrimitive];if(void 0!==e){var t=e.call(r,"string");if("object"!=i(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r);return"symbol"==i(n)?n:n+""}const u=function(){function r(){!function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}(this,r)}return n=r,e=[{key:"RGB_BLACK",get:function(){return{r:0,g:0,b:0}}},{key:"RGB_WHITE",get:function(){return{r:255,g:255,b:255}}},{key:"decimalToHex",value:function(r){r<0&&(r+=16777216);var n=Number(r).toString(16);return"#".concat("000000".substr(0,6-n.length)).concat(n)}},{key:"decimalToRgb",value:function(r){var n=r>>24&255;return{r:r>>16&255,g:r>>8&255,b:255&r,a:n>0?n:255}}},{key:"hexToRgb",value:function(r){r.startsWith("#")&&(r=r.substring(1));var n=parseInt(r,16);if(isNaN(n))return null;if(6===r.length)return{r:n>>16&255,g:n>>8&255,b:255&n};if(3===r.length){var e=n>>8&15,t=n>>4&15,a=15&n;return{r:e<<4|e,g:t<<4|t,b:a<<4|a}}return null}},{key:"rgbToHex",value:function(n){return r.decimalToHex(r.rgbToDecimal(n))}},{key:"rgbToDecimal",value:function(r){if(null===r)throw new Error("rgb must be an RGBObject");return(r.r<<16)+(r.g<<8)+r.b}},{key:"hexToDecimal",value:function(n){return r.rgbToDecimal(r.hexToRgb(n))}},{key:"hsvToRgb",value:function(r){var n=r.h%360;n<0&&(n+=360);var e,t,a,i=Math.max(0,Math.min(r.s,1)),o=Math.max(0,Math.min(r.v,1)),l=Math.floor(n/60),u=n/60-l,c=o*(1-i),s=o*(1-i*u),f=o*(1-i*(1-u));switch(l){default:case 0:e=o,t=f,a=c;break;case 1:e=s,t=o,a=c;break;case 2:e=c,t=o,a=f;break;case 3:e=c,t=s,a=o;break;case 4:e=f,t=c,a=o;break;case 5:e=o,t=c,a=s}return{r:Math.floor(255*e),g:Math.floor(255*t),b:Math.floor(255*a)}}},{key:"rgbToHsv",value:function(r){var n=r.r/255,e=r.g/255,t=r.b/255,a=Math.min(Math.min(n,e),t),i=Math.max(Math.max(n,e),t),o=0,l=0;return a!==i&&(o=60*((n===a?3:e===a?5:1)-(n===a?e-t:e===a?t-n:n-e)/(i-a))%360,l=(i-a)/i),{h:o,s:l,v:i}}},{key:"mixRgb",value:function(r,n,e){if(e<=0)return r;if(e>=1)return n;var t=1-e;return{r:t*r.r+e*n.r,g:t*r.g+e*n.g,b:t*r.b+e*n.b}}}],null&&o(n.prototype,null),e&&o(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,e}();function c(r){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},c(r)}function s(r,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,f(t.key),t)}}function f(r){var n=function(r,n){if("object"!=c(r)||!r)return r;var e=r[Symbol.toPrimitive];if(void 0!==e){var t=e.call(r,"string");if("object"!=c(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r);return"symbol"==c(n)?n:n+""}var d=function(r){if("string"!=typeof r)return!1;for(var n=0;n<r.length;n++){var e=r.charCodeAt(n);if(48===e||9===e)return!1}return!0},h=function(){function r(){!function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}(this,r)}return n=r,e=[{key:"toNumber",value:function(r){if("number"==typeof r)return Number.isNaN(r)?0:r;var n=Number(r);return Number.isNaN(n)?0:n}},{key:"toBoolean",value:function(r){return"boolean"==typeof r?r:"string"==typeof r?""!==r&&"0"!==r&&"false"!==r.toLowerCase():Boolean(r)}},{key:"toString",value:function(r){return String(r)}},{key:"toRgbColorList",value:function(n){var e=r.toRgbColorObject(n);return[e.r,e.g,e.b]}},{key:"toRgbColorObject",value:function(n){var e;return"string"==typeof n&&"#"===n.substring(0,1)?(e=u.hexToRgb(n))||(e={r:0,g:0,b:0,a:255}):e=u.decimalToRgb(r.toNumber(n)),e}},{key:"isWhiteSpace",value:function(r){return null===r||"string"==typeof r&&0===r.trim().length}},{key:"compare",value:function(r,n){var e=Number(r),t=Number(n);if(0===e&&d(r)?e=NaN:0===t&&d(n)&&(t=NaN),isNaN(e)||isNaN(t)){var a=String(r).toLowerCase(),i=String(n).toLowerCase();return a<i?-1:a>i?1:0}return e===1/0&&t===1/0||e===-1/0&&t===-1/0?0:e-t}},{key:"isInt",value:function(r){return"number"==typeof r?!!isNaN(r)||r===Math.floor(r):"boolean"==typeof r||"string"==typeof r&&r.indexOf(".")<0}},{key:"LIST_INVALID",get:function(){return"INVALID"}},{key:"LIST_ALL",get:function(){return"ALL"}},{key:"toListIndex",value:function(n,e,t){if("number"!=typeof n){if("all"===n)return t?r.LIST_ALL:r.LIST_INVALID;if("last"===n)return e>0?e:r.LIST_INVALID;if("random"===n||"any"===n)return e>0?1+Math.floor(Math.random()*e):r.LIST_INVALID}return(n=Math.floor(r.toNumber(n)))<1||n>e?r.LIST_INVALID:n}}],null&&s(n.prototype,null),e&&s(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,e}(),p=e(132),m=e.n(p);function y(r){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},y(r)}function b(r){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},b(r)}function v(r,n){return function(r){if(Array.isArray(r))return r}(r)||function(r,n){var e=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=e){var t,a,i,o,l=[],u=!0,c=!1;try{if(i=(e=e.call(r)).next,0===n){if(Object(e)!==e)return;u=!1}else for(;!(u=(t=i.call(e)).done)&&(l.push(t.value),l.length!==n);u=!0);}catch(r){c=!0,a=r}finally{try{if(!u&&null!=e.return&&(o=e.return(),Object(o)!==o))return}finally{if(c)throw a}}return l}}(r,n)||g(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(r,n){if(r){if("string"==typeof r)return x(r,n);var e=Object.prototype.toString.call(r).slice(8,-1);return"Object"===e&&r.constructor&&(e=r.constructor.name),"Map"===e||"Set"===e?Array.from(r):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?x(r,n):void 0}}function x(r,n){(null==n||n>r.length)&&(n=r.length);for(var e=0,t=new Array(n);e<n;e++)t[e]=r[e];return t}function k(r,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,S(t.key),t)}}function w(r,n,e){return(n=S(n))in r?Object.defineProperty(r,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[n]=e,r}function S(r){var n=function(r,n){if("object"!=b(r)||!r)return r;var e=r[Symbol.toPrimitive];if(void 0!==e){var t=e.call(r,"string");if("object"!=b(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r);return"symbol"==b(n)?n:n+""}function M(r){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},M(r)}function O(r,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,N(t.key),t)}}function j(r,n,e){return n=I(n),function(r,n){if(n&&("object"===M(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(r){if(void 0===r)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return r}(r)}(r,T()?Reflect.construct(n,e||[],I(r).constructor):n.apply(r,e))}function T(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(r){}return(T=function(){return!!r})()}function I(r){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},I(r)}function P(r,n){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},P(r,n)}function N(r){var n=function(r,n){if("object"!=M(r)||!r)return r;var e=r[Symbol.toPrimitive];if(void 0!==e){var t=e.call(r,"string");if("object"!=M(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r);return"symbol"==M(n)?n:n+""}var E=new(function(r){function n(){var r,e,t,a;return function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),e=r=j(this,n),a={},(t=N(t="services"))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,r._connectionPromise=new Promise((function(n){r._onConnect=n})),r._onMessage=r._onMessage.bind(r,self),"undefined"!=typeof self&&(self.onmessage=r._onMessage),r}return function(r,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),n&&P(r,n)}(n,r),e=n,(t=[{key:"waitForConnection",get:function(){return this._connectionPromise}},{key:"setService",value:function(r,n){var e=this;return Object.prototype.hasOwnProperty.call(this.services,r)&&console.warn("Worker dispatch replacing existing service provider for ".concat(r)),this.services[r]=n,this.waitForConnection.then((function(){return e._remoteCall(self,"dispatch","setService",r)}))}},{key:"_getServiceProvider",value:function(r){var n=this.services[r];return{provider:n||self,isRemote:!n}}},{key:"_onDispatchMessage",value:function(r,n){var e;switch(n.method){case"handshake":e=this._onConnect();break;case"terminate":setTimeout((function(){return self.close()}),0),e=Promise.resolve();break;default:console.error("Worker dispatch received message for unknown method: ".concat(n.method))}return e}}])&&O(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(function(){return r=function r(){!function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}(this,r),w(this,"callbacks",[]),w(this,"nextResponseId",0)},n=[{key:"call",value:function(r,n){for(var e=arguments.length,t=new Array(e>2?e-2:0),a=2;a<e;a++)t[a-2]=arguments[a];return this.transferCall.apply(this,[r,n,null].concat(t))}},{key:"transferCall",value:function(r,n,e){try{var t=this._getServiceProvider(r),a=t.provider,i=t.isRemote;if(a){for(var o=arguments.length,l=new Array(o>3?o-3:0),u=3;u<o;u++)l[u-3]=arguments[u];if(i)return this._remoteTransferCall.apply(this,[a,r,n,e].concat(l));var c=a[n].apply(a,l);return Promise.resolve(c)}return Promise.reject(new Error("Service not found: ".concat(r)))}catch(r){return Promise.reject(r)}}},{key:"_isRemoteService",value:function(r){return this._getServiceProvider(r).isRemote}},{key:"_remoteCall",value:function(r,n,e){for(var t=arguments.length,a=new Array(t>3?t-3:0),i=3;i<t;i++)a[i-3]=arguments[i];return this._remoteTransferCall.apply(this,[r,n,e,null].concat(a))}},{key:"_remoteTransferCall",value:function(r,n,e,t){for(var a=this,i=arguments.length,o=new Array(i>4?i-4:0),l=4;l<i;l++)o[l-4]=arguments[l];return new Promise((function(i,l){var u=a._storeCallbacks(i,l);o&&(o=a._purifyObject(o)),t?r.postMessage({service:n,method:e,responseId:u,args:o},t):r.postMessage({service:n,method:e,responseId:u,args:o})}))}},{key:"_storeCallbacks",value:function(r,n){var e=this.nextResponseId++;return this.callbacks[e]=[r,n],e}},{key:"_deliverResponse",value:function(r,n){try{var e=v(this.callbacks[r],2),t=e[0],a=e[1];delete this.callbacks[r],n.error?a(n.error):t(n.result)}catch(r){console.error("Dispatch callback failed: ".concat(r))}}},{key:"_onMessage",value:function(r,n){var e=n.data;e.args=e.args||[];var t,a=void 0;e.service?a="dispatch"===e.service?this._onDispatchMessage(r,e):this.call.apply(this,[e.service,e.method].concat(function(r){if(Array.isArray(r))return x(r)}(t=e.args)||function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(t)||g(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())):void 0===e.responseId?console.error("Dispatch caught malformed message from a worker: ".concat(JSON.stringify(n))):this._deliverResponse(e.responseId,e),a&&(void 0===e.responseId?console.error("Dispatch message missing required response ID: ".concat(JSON.stringify(n))):a.then((function(n){return r.postMessage({responseId:e.responseId,result:n})}),(function(n){return r.postMessage({responseId:e.responseId,error:"".concat(n)})})))}},{key:"_getServiceProvider",value:function(r){throw new Error("Could not get provider for ".concat(r,": _getServiceProvider not implemented"))}},{key:"_onDispatchMessage",value:function(r,n){throw new Error("Unimplemented dispatch message handler cannot handle ".concat(n.method," method"))}},{key:"_purifyObject",value:function(r){var n=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if("function"!=typeof r&&"symbol"!==b(r)){if(null!==r&&"object"===b(r)){if(e.has(r))return;if(e.add(r),Array.isArray(r))return r.map((function(r){return n._purifyObject(r,e,t+1)}));for(var a={},i=0,o=Object.entries(r);i<o.length;i++){var l=v(o[i],2),u=l[0],c=l[1];a[u]=this._purifyObject(c,e,t+1)}return a}return r}}}],n&&k(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}()));function A(r){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},A(r)}function _(r,n){(null==n||n>r.length)&&(n=r.length);for(var e=0,t=new Array(n);e<n;e++)t[e]=r[e];return t}function R(r,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,D(t.key),t)}}function L(r,n,e){return(n=D(n))in r?Object.defineProperty(r,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[n]=e,r}function D(r){var n=function(r,n){if("object"!=A(r)||!r)return r;var e=r[Symbol.toPrimitive];if(void 0!==e){var t=e.call(r,"string");if("object"!=A(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r);return"symbol"==A(n)?n:n+""}var C,F,B=function(){return r=function r(){var n=this;!function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}(this,r),L(this,"nextExtensionId",0),L(this,"initialRegistrations",[]),L(this,"extensions",[]),L(this,"extensionURL",""),E.waitForConnection.then((function(){E.call("loader","allocateWorker").then((function(r){var e,t,a=(t=2,function(r){if(Array.isArray(r))return r}(e=r)||function(r,n){var e=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=e){var t,a,i,o,l=[],u=!0,c=!1;try{if(i=(e=e.call(r)).next,0===n){if(Object(e)!==e)return;u=!1}else for(;!(u=(t=i.call(e)).done)&&(l.push(t.value),l.length!==n);u=!0);}catch(r){c=!0,a=r}finally{try{if(!u&&null!=e.return&&(o=e.return(),Object(o)!==o))return}finally{if(c)throw a}}return l}}(e,t)||function(r,n){if(r){if("string"==typeof r)return _(r,n);var e=Object.prototype.toString.call(r).slice(8,-1);return"Object"===e&&r.constructor&&(e=r.constructor.name),"Map"===e||"Set"===e?Array.from(r):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?_(r,n):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=a[0],o=a[1];n.workerId=i,n.extensionURL=o;try{importScripts(o);var l=n.initialRegistrations;n.initialRegistrations=[],Promise.all(l).then((function(){return E.call("loader","onWorkerInit",i)}))}catch(r){E.call("loader","onWorkerInit",i,r)}}))})),this.extensions=[]},(n=[{key:"register",value:function(r){var n=this,e=this.nextExtensionId++;this.extensions.push(r);var t="extension.".concat(this.workerId,".").concat(e),a=E.setService(t,r).then((function(){return E.call("loader","registerExtensionService",n.extensionURL,t)}));return this.initialRegistrations&&this.initialRegistrations.push(a),a}}])&&R(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}();globalThis.Scratch=(F={ArgumentType:r,BlockType:n,TargetType:a,ReporterScope:t,Cast:h,extensions:{register:function(){throw new Error("not implemented")},unsandboxed:!1,chibi:!0,eureka:!0},translate:function(r){var n=m().namespace(),e=function(r,e){if(r&&"object"===y(r));else{if("string"!=typeof r)throw new Error("unsupported data type in translate()");r={default:r}}return n(r,e)},t=function(r){return"_".concat(r)},a=function(){return r?r.getLocale():"undefined"!=typeof navigator?navigator.language:"en"},i={};return e.setup=function(r){r&&(i=r),n.setup({locale:a(),missingTranslation:"ignore",generateId:t,translations:i})},e.setup({}),r&&r.on("LOCALE_CHANGED",(function(){e.setup(null)})),Object.defineProperty(e,"language",{configurable:!0,enumerable:!0,get:function(){return a()}}),e}(C),fetch:function(r){function n(n,e){return r.apply(this,arguments)}return n.toString=function(){return r.toString()},n}((function(r,n){return fetch(r,n)})),canFetch:function(r){var n=function(r){try{return new URL(r,location.href)}catch(r){return null}}(r);return!!n}},F);var U=new B;globalThis.Scratch.extensions.register=U.register.bind(U)})()})();',"Worker",void 0,n.p+"sandbox.worker.user.js")}function q(r){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},q(r)}function $(r,e){return function(r){if(Array.isArray(r))return r}(r)||function(r,e){var n=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=n){var t,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(r)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(t=o.call(n)).done)&&(c.push(t.value),c.length!==e);l=!0);}catch(r){u=!0,a=r}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(r,e)||Z(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(r,e){var n="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=Z(r))||e&&r&&"number"==typeof r.length){n&&(r=n);var t=0,a=function(){};return{s:a,n:function(){return t>=r.length?{done:!0}:{done:!1,value:r[t++]}},e:function(r){throw r},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(r)},n:function(){var r=n.next();return i=r.done,r},e:function(r){c=!0,o=r},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function Z(r,e){if(r){if("string"==typeof r)return X(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);return"Object"===n&&r.constructor&&(n=r.constructor.name),"Map"===n||"Set"===n?Array.from(r):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(r,e):void 0}}function X(r,e){(null==e||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}function Q(){Q=function(){return e};var r,e={},n=Object.prototype,t=n.hasOwnProperty,a=Object.defineProperty||function(r,e,n){r[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(r,e,n){return Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),r[e]}try{u({},"")}catch(r){u=function(r,e,n){return r[e]=n}}function s(r,e,n,t){var o=e&&e.prototype instanceof m?e:m,i=Object.create(o.prototype),c=new I(t||[]);return a(i,"_invoke",{value:L(r,n,c)}),i}function f(r,e,n){try{return{type:"normal",arg:r.call(e,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=s;var d="suspendedStart",h="suspendedYield",p="executing",y="completed",v={};function m(){}function b(){}function g(){}var w={};u(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(A([])));k&&k!==n&&t.call(k,i)&&(w=k);var S=g.prototype=m.prototype=Object.create(w);function E(r){["next","throw","return"].forEach((function(e){u(r,e,(function(r){return this._invoke(e,r)}))}))}function O(r,e){function n(a,o,i,c){var l=f(r[a],r,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==q(s)&&t.call(s,"__await")?e.resolve(s.__await).then((function(r){n("next",r,i,c)}),(function(r){n("throw",r,i,c)})):e.resolve(s).then((function(r){u.value=r,i(u)}),(function(r){return n("throw",r,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(r,t){function a(){return new e((function(e,a){n(r,t,e,a)}))}return o=o?o.then(a,a):a()}})}function L(e,n,t){var a=d;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===y){if("throw"===o)throw i;return{value:r,done:!0}}for(t.method=o,t.arg=i;;){var c=t.delegate;if(c){var l=j(c,t);if(l){if(l===v)continue;return l}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if(a===d)throw a=y,t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);a=p;var u=f(e,n,t);if("normal"===u.type){if(a=t.done?y:h,u.arg===v)continue;return{value:u.arg,done:t.done}}"throw"===u.type&&(a=y,t.method="throw",t.arg=u.arg)}}}function j(e,n){var t=n.method,a=e.iterator[t];if(a===r)return n.delegate=null,"throw"===t&&e.iterator.return&&(n.method="return",n.arg=r,j(e,n),"throw"===n.method)||"return"!==t&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+t+"' method")),v;var o=f(a,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=r),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function M(r){var e={tryLoc:r[0]};1 in r&&(e.catchLoc=r[1]),2 in r&&(e.finallyLoc=r[2],e.afterLoc=r[3]),this.tryEntries.push(e)}function _(r){var e=r.completion||{};e.type="normal",delete e.arg,r.completion=e}function I(r){this.tryEntries=[{tryLoc:"root"}],r.forEach(M,this),this.reset(!0)}function A(e){if(e||""===e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function n(){for(;++a<e.length;)if(t.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=r,n.done=!0,n};return o.next=o}}throw new TypeError(q(e)+" is not iterable")}return b.prototype=g,a(S,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),e.isGeneratorFunction=function(r){var e="function"==typeof r&&r.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,g):(r.__proto__=g,u(r,l,"GeneratorFunction")),r.prototype=Object.create(S),r},e.awrap=function(r){return{__await:r}},E(O.prototype),u(O.prototype,c,(function(){return this})),e.AsyncIterator=O,e.async=function(r,n,t,a,o){void 0===o&&(o=Promise);var i=new O(s(r,n,t,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(r){return r.done?r.value:i.next()}))},E(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(r){var e=Object(r),n=[];for(var t in e)n.push(t);return n.reverse(),function r(){for(;n.length;){var t=n.pop();if(t in e)return r.value=t,r.done=!1,r}return r.done=!0,r}},e.values=A,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(_),!e)for(var n in this)"t"===n.charAt(0)&&t.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=r)},stop:function(){this.done=!0;var r=this.tryEntries[0].completion;if("throw"===r.type)throw r.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(t,a){return c.type="throw",c.arg=e,n.next=t,a&&(n.method="next",n.arg=r),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=t.call(i,"catchLoc"),u=t.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(r,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&t.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===r||"continue"===r)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=r,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(r,e){if("throw"===r.type)throw r.arg;return"break"===r.type||"continue"===r.type?this.next=r.arg:"return"===r.type?(this.rval=this.arg=r.arg,this.method="return",this.next="end"):"normal"===r.type&&e&&(this.next=e),v},finish:function(r){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===r)return this.complete(n.completion,n.afterLoc),_(n),v}},catch:function(r){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===r){var t=n.completion;if("throw"===t.type){var a=t.arg;_(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,n,t){return this.delegate={iterator:A(e),resultName:n,nextLoc:t},"next"===this.method&&(this.arg=r),v}},e}function rr(r,e,n,t,a,o,i){try{var c=r[o](i),l=c.value}catch(r){return void n(r)}c.done?e(l):Promise.resolve(l).then(t,a)}function er(r){return function(){var e=this,n=arguments;return new Promise((function(t,a){var o=r.apply(e,n);function i(r){rr(o,t,a,i,c,"next",r)}function c(r){rr(o,t,a,i,c,"throw",r)}i(void 0)}))}}function nr(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function tr(r,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,ir(t.key),t)}}function ar(r,e,n){return e&&tr(r.prototype,e),n&&tr(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function or(r,e,n){return(e=ir(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function ir(r){var e=function(r,e){if("object"!=q(r)||!r)return r;var n=r[Symbol.toPrimitive];if(void 0!==n){var t=n.call(r,"string");if("object"!=q(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r);return"symbol"==q(e)?e:e+""}var cr=new(function(){return ar((function r(){nr(this,r),or(this,"loading",Promise.resolve())}),[{key:"load",value:(r=er(Q().mark((function r(e,n){return Q().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.loading=this.loading.then((function(){return er(Q().mark((function r(){var a,o;return Q().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,fetch(e,{cache:"no-cache"});case 3:return a=r.sent,r.next=6,a.text();case 6:return o=r.sent,r.abrupt("return",new Promise((function(r){var a=document.createElement("script"),i=URL.createObjectURL(new Blob(["\n/**\n * Generated by Eureka\n */\nlet Scratch = document.getElementById('eurekaExtension')?.Scratch;\n".concat(o,"\n//# sourceURL=").concat(e,"\n")],{type:"text/javascript"}));a.defer=!0,a.Scratch=n,a.type="module",a.src=i,a.id="eurekaExtension",document.head.appendChild(a),a.addEventListener("load",(function(){URL.revokeObjectURL(i),document.head.removeChild(a),r()})),a.addEventListener("error",(function(e){URL.revokeObjectURL(i),document.head.removeChild(a),(0,t.z3)(e.error),r()}))})));case 10:r.prev=10,r.t0=r.catch(0),(0,t.z3)(r.t0);case 13:case"end":return r.stop()}}),r,null,[[0,10]])})))()})));case 1:case"end":return r.stop()}}),r,this)}))),function(e,n){return r.apply(this,arguments)})}]);var r}()),lr=function(){return ar((function r(e){nr(this,r),or(this,"nextExtensionWorker",0),or(this,"pendingExtensions",[]),or(this,"pendingWorkers",[]),or(this,"loadedScratchExtension",new Map),this.vm=e,T.setService("loader",this).catch((function(r){(0,t.z3)("EurekaLoader was unable to register extension service: ".concat(JSON.stringify(r)))})),this.patchVM()}),[{key:"load",value:(o=er(Q().mark((function r(e){var n,t,a,o,i=this,c=arguments;return Q().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=c.length>1&&void 0!==c[1]?c[1]:"sandboxed","string"!=typeof e){r.next=13;break}r.t0=n,r.next="sandboxed"===r.t0?5:"unsandboxed"===r.t0?6:12;break;case 5:return r.abrupt("return",new Promise((function(r,n){var t=new J;i.pendingExtensions.push({extensionURL:e,resolve:r,reject:n}),T.addWorker(t)})));case 6:return t=V(this.vm),window.eureka.settings.dontExposeCtx||(window.Scratch=t),t.extensions.register=function(r){var n=r.getInfo();i._registerExtensionInfo(r,n,e)},r.next=11,cr.load(e,t);case 11:return r.abrupt("return");case 12:throw new Error("unexpected env");case 13:return a=new e(this.vm.runtime),o=a.getInfo(),this._registerExtensionInfo(a,o,o.id),r.abrupt("return",o);case 17:case"end":return r.stop()}}),r,this)}))),function(r){return o.apply(this,arguments)})},{key:"reload",value:(a=er(Q().mark((function r(e){var n,t,a,o;return Q().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=this.loadedScratchExtension.get(e)){r.next=3;break}throw new Error("Cannot locate extension ".concat(e,"."));case 3:if("string"!=typeof n.instance){r.next=10;break}return r.next=6,T.call(n.instance,"getInfo");case 6:return t=r.sent,a=this._prepareExtensionInfo(null,t,n.instance),this.vm.runtime._refreshExtensionPrimitives(a),r.abrupt("return",a);case 10:return o=n.instance.getInfo(),o=this._prepareExtensionInfo(n.instance,o),this.vm.runtime._refreshExtensionPrimitives(o),r.abrupt("return",o);case 14:case"end":return r.stop()}}),r,this)}))),function(r){return a.apply(this,arguments)})},{key:"getIdByUrl",value:function(r){var e,n=Y(this.loadedScratchExtension.entries());try{for(n.s();!(e=n.n()).done;){var t=$(e.value,2),a=t[0];if(t[1].url===r)return a}}catch(r){n.e(r)}finally{n.f()}}},{key:"reloadAll",value:function(){var r,e=[],n=Y(this.loadedScratchExtension.entries());try{for(n.s();!(r=n.n()).done;){var t=$(r.value,1)[0];e.push(this.reload(t))}}catch(r){n.e(r)}finally{n.f()}return Promise.all(e)}},{key:"_registerExtensionInfo",value:function(r,e,n,t){if(!this.loadedScratchExtension.has(e.id)){if(!r&&!t)throw new Error("Cannnot mark ".concat(e.id," as loaded."));this.loadedScratchExtension.set(e.id,{type:"scratch",id:e.id,url:n,info:e,instance:null!=r?r:t,env:t?"sandboxed":"unsandboxed"}),this.vm.extensionManager._loadedExtensions.set(e.id,"Eureka")}e=this._prepareExtensionInfo(r,e,t),this.vm.runtime._registerExtensionPrimitives(e)}},{key:"_sanitizeID",value:function(r){return r.toString().replace(/[<"&]/,"_")}},{key:"_prepareExtensionInfo",value:function(r,e,n){var a=this;if(e=Object.assign({},e),!/^[a-z0-9]+$/i.test(e.id))throw new Error("Invalid extension id");return e.name=e.name||e.id,e.blocks=e.blocks||[],e.targetTypes=e.targetTypes||[],e.blocks=e.blocks.reduce((function(o,i){try{var c;c="---"===i?"---":a._prepareBlockInfo(r,i,n,e),o.push(c)}catch(r){(0,t.z3)("Error processing block: ".concat(r.message,", Block:\n").concat(JSON.stringify(i)))}return o}),[]),e.menus=e.menus||{},e.menus=this._prepareMenuInfo(r,e.menus,n),e}},{key:"_prepareMenuInfo",value:function(r,e,n){for(var t=Object.getOwnPropertyNames(e),a=0;a<t.length;a++){var o=t[a],i=e[o];if(i.items||(i={items:i},e[o]=i),"string"==typeof i.items){var c=i.items;i.items=this._getExtensionMenuItems.bind(this,r,c,n)}}return e}},{key:"_getExtensionMenuItems",value:function(r,e,n){var t=this.vm.runtime.getEditingTarget()||this.vm.runtime.getTargetForStage(),a=t?t.id:null,o=this.vm.runtime.makeMessageContextForTarget(t),i=r[e].call(r,a).map((function(r){switch(q(r=v(r,o))){case"object":return[v(r.text,o),r.value];case"string":return[r,r];default:return r}}));if(!i||i.length<1)throw new Error("Extension menu returned no items: ".concat(e));return i}},{key:"_prepareBlockInfo",value:function(r,e,n,a){switch((e=Object.assign({},{blockType:s.COMMAND,terminal:!1,blockAllThreads:!1,arguments:{}},e)).opcode=e.opcode&&this._sanitizeID(e.opcode),e.text=e.text||e.opcode,e.blockType){case s.EVENT:e.func&&(0,t.R8)('Ignoring function "'.concat(e.func,'" for event block ').concat(e.opcode));break;case s.BUTTON:if(!e.func)break;if(e.opcode&&(0,t.R8)('Ignoring opcode "'.concat(e.opcode,'" for button with text: ').concat(e.text)),["MAKE_A_LIST","MAKE_A_PROCEDURE","MAKE_A_VARIABLE"].includes(e.func))break;var o=null==a?void 0:a.id;if(!o){(0,t.R8)("Cannot assign prefix for button: ".concat(e.func));break}var i="".concat(o,"_").concat(e.func),c=e.func,l=null===r?n&&T._isRemoteService(n)?function(){return T.call(n,c)}:((0,t.R8)("Could not find extension block function called ".concat(c)),function(){}):(r[c]||(0,t.R8)("Could not find extension block function called ".concat(c)),function(){return r[c]()});e.callback=l,e.func=i;break;case s.LABEL:e.opcode&&(0,t.R8)('Ignoring opcode "'.concat(e.opcode,'" for label with text: ').concat(e.text));break;case s.XML:e.opcode&&(0,t.R8)('Ignoring opcode "'.concat(e.opcode,'" for xml: ').concat(e.xml));break;default:if(!e.opcode)throw new Error("Missing opcode for block");var u=e.func?this._sanitizeID(e.func):e.opcode,f=e.isDynamic?function(r){return r&&r.mutation&&r.mutation.blockInfo}:function(){return e},d=null===r?n&&T._isRemoteService(n)?function(r,e,t){return T.call(n,u,r,void 0,t)}:((0,t.R8)("Could not find extension block function called ".concat(u)),function(){}):(r[u]||(0,t.R8)("Could not find extension block function called ".concat(u)),function(e,n,t){return r[u](e,n,t)});e.func=function(r,e){var n=f(r);return d(r,e,n)}}return e}},{key:"patchVM",value:function(){var r=this.vm.runtime._convertForScratchBlocks;this.vm.runtime._convertForScratchBlocks=function(e,n){for(var t=arguments.length,a=new Array(t>2?t-2:0),o=2;o<t;o++)a[o-2]=arguments[o];if("string"!=typeof e)switch(e.blockType){case s.LABEL:return{info:e,xml:'<label text="'.concat(l(e.text),'"/>')};case s.XML:return{info:e,xml:e.xml};default:if("extensions"in e){var i=r.call.apply(r,[this,e,n].concat(a));"extensions"in i.json||(i.json.extensions=[]);var c,u=Y(e.extensions);try{for(u.s();!(c=u.n()).done;){var f=c.value;i.json.extensions.includes(f)||i.json.extensions.push(f)}}catch(r){u.e(r)}finally{u.f()}return i}return r.call.apply(r,[this,e,n].concat(a))}return r.call.apply(r,[this,e,n].concat(a))};var e=this.vm.runtime._convertButtonForScratchBlocks;this.vm.runtime._convertButtonForScratchBlocks=function(r){window.eureka.blockly&&!["MAKE_A_LIST","MAKE_A_PROCEDURE","MAKE_A_VARIABLE"].includes(r.func)&&window.Blockly.getMainWorkspace().registerButtonCallback(r.func,r.callback);for(var n=arguments.length,t=new Array(n>1?n-1:0),a=1;a<n;a++)t[a-1]=arguments[a];return e.call.apply(e,[this,r].concat(t))}}},{key:"updateLocales",value:(n=er(Q().mark((function r(){return Q().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.reloadAll();case 2:case"end":return r.stop()}}),r,this)}))),function(){return n.apply(this,arguments)})},{key:"refreshBlocks",value:(e=er(Q().mark((function r(){return Q().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.reloadAll();case 2:case"end":return r.stop()}}),r,this)}))),function(){return e.apply(this,arguments)})},{key:"allocateWorker",value:function(){var r=this.pendingExtensions.shift();if(r){var e=this.nextExtensionWorker++;return this.pendingWorkers[e]=r,[e,r.extensionURL]}(0,t.R8)("pending extension queue is empty")}},{key:"registerExtensionService",value:(r=er(Q().mark((function r(e,n){var t;return Q().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,T.call(n,"getInfo");case 2:t=r.sent,this._registerExtensionInfo(null,t,e,n);case 4:case"end":return r.stop()}}),r,this)}))),function(e,n){return r.apply(this,arguments)})},{key:"onWorkerInit",value:function(r,e){var n=this.pendingWorkers[r];delete this.pendingWorkers[r],e?n.reject(e):n.resolve(r)}}]);var r,e,n,a,o}();function ur(r){return ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ur(r)}function sr(){sr=function(){return e};var r,e={},n=Object.prototype,t=n.hasOwnProperty,a=Object.defineProperty||function(r,e,n){r[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(r,e,n){return Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),r[e]}try{u({},"")}catch(r){u=function(r,e,n){return r[e]=n}}function s(r,e,n,t){var o=e&&e.prototype instanceof m?e:m,i=Object.create(o.prototype),c=new I(t||[]);return a(i,"_invoke",{value:L(r,n,c)}),i}function f(r,e,n){try{return{type:"normal",arg:r.call(e,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=s;var d="suspendedStart",h="suspendedYield",p="executing",y="completed",v={};function m(){}function b(){}function g(){}var w={};u(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(A([])));k&&k!==n&&t.call(k,i)&&(w=k);var S=g.prototype=m.prototype=Object.create(w);function E(r){["next","throw","return"].forEach((function(e){u(r,e,(function(r){return this._invoke(e,r)}))}))}function O(r,e){function n(a,o,i,c){var l=f(r[a],r,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==ur(s)&&t.call(s,"__await")?e.resolve(s.__await).then((function(r){n("next",r,i,c)}),(function(r){n("throw",r,i,c)})):e.resolve(s).then((function(r){u.value=r,i(u)}),(function(r){return n("throw",r,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(r,t){function a(){return new e((function(e,a){n(r,t,e,a)}))}return o=o?o.then(a,a):a()}})}function L(e,n,t){var a=d;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===y){if("throw"===o)throw i;return{value:r,done:!0}}for(t.method=o,t.arg=i;;){var c=t.delegate;if(c){var l=j(c,t);if(l){if(l===v)continue;return l}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if(a===d)throw a=y,t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);a=p;var u=f(e,n,t);if("normal"===u.type){if(a=t.done?y:h,u.arg===v)continue;return{value:u.arg,done:t.done}}"throw"===u.type&&(a=y,t.method="throw",t.arg=u.arg)}}}function j(e,n){var t=n.method,a=e.iterator[t];if(a===r)return n.delegate=null,"throw"===t&&e.iterator.return&&(n.method="return",n.arg=r,j(e,n),"throw"===n.method)||"return"!==t&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+t+"' method")),v;var o=f(a,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=r),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function M(r){var e={tryLoc:r[0]};1 in r&&(e.catchLoc=r[1]),2 in r&&(e.finallyLoc=r[2],e.afterLoc=r[3]),this.tryEntries.push(e)}function _(r){var e=r.completion||{};e.type="normal",delete e.arg,r.completion=e}function I(r){this.tryEntries=[{tryLoc:"root"}],r.forEach(M,this),this.reset(!0)}function A(e){if(e||""===e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function n(){for(;++a<e.length;)if(t.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=r,n.done=!0,n};return o.next=o}}throw new TypeError(ur(e)+" is not iterable")}return b.prototype=g,a(S,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),e.isGeneratorFunction=function(r){var e="function"==typeof r&&r.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,g):(r.__proto__=g,u(r,l,"GeneratorFunction")),r.prototype=Object.create(S),r},e.awrap=function(r){return{__await:r}},E(O.prototype),u(O.prototype,c,(function(){return this})),e.AsyncIterator=O,e.async=function(r,n,t,a,o){void 0===o&&(o=Promise);var i=new O(s(r,n,t,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(r){return r.done?r.value:i.next()}))},E(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(r){var e=Object(r),n=[];for(var t in e)n.push(t);return n.reverse(),function r(){for(;n.length;){var t=n.pop();if(t in e)return r.value=t,r.done=!1,r}return r.done=!0,r}},e.values=A,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(_),!e)for(var n in this)"t"===n.charAt(0)&&t.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=r)},stop:function(){this.done=!0;var r=this.tryEntries[0].completion;if("throw"===r.type)throw r.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(t,a){return c.type="throw",c.arg=e,n.next=t,a&&(n.method="next",n.arg=r),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=t.call(i,"catchLoc"),u=t.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(r,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&t.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===r||"continue"===r)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=r,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(r,e){if("throw"===r.type)throw r.arg;return"break"===r.type||"continue"===r.type?this.next=r.arg:"return"===r.type?(this.rval=this.arg=r.arg,this.method="return",this.next="end"):"normal"===r.type&&e&&(this.next=e),v},finish:function(r){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===r)return this.complete(n.completion,n.afterLoc),_(n),v}},catch:function(r){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===r){var t=n.completion;if("throw"===t.type){var a=t.arg;_(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,n,t){return this.delegate={iterator:A(e),resultName:n,nextLoc:t},"next"===this.method&&(this.arg=r),v}},e}function fr(r,e,n,t,a,o,i){try{var c=r[o](i),l=c.value}catch(r){return void n(r)}c.done?e(l):Promise.resolve(l).then(t,a)}function dr(r,e){if(r){if("string"==typeof r)return hr(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);return"Object"===n&&r.constructor&&(n=r.constructor.name),"Map"===n||"Set"===n?Array.from(r):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hr(r,e):void 0}}function hr(r,e){(null==e||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}var pr=null;function yr(){var r,e,n,t=[],a=function(r,e){var n="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=dr(r))){n&&(r=n);var t=0,a=function(){};return{s:a,n:function(){return t>=r.length?{done:!0}:{done:!1,value:r[t++]}},e:function(r){throw r},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(r)},n:function(){var r=n.next();return i=r.done,r},e:function(r){c=!0,o=r},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}(window.eureka.loader.loadedScratchExtension.entries());try{for(a.s();!(r=a.n()).done;){var o=(e=r.value,n=2,function(r){if(Array.isArray(r))return r}(e)||function(r,e){var n=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=n){var t,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(r)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(t=o.call(n)).done)&&(c.push(t.value),c.length!==e);l=!0);}catch(r){u=!0,a=r}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,n)||dr(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],c=o[1];t.push({name:i,sandboxed:"sandboxed"===c.env})}}catch(r){a.e(r)}finally{a.f()}return t}function vr(){var r;return r=sr().mark((function r(e){var n,t,a,o,c;return sr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("https://eureka.codingclip.cc"===e.origin){r.next=2;break}return r.abrupt("return");case 2:if("type"in e.data){r.next=4;break}return r.abrupt("return");case 4:r.t0=e.data.type,r.next="allocate"===r.t0?7:"load"===r.t0?12:"updateSettings"===r.t0?16:19;break;case 7:return console.log("handshake with frontend"),null===(n=pr)||void 0===n||n.postMessage({type:"handshake",clientInfo:{version:Number(window.eureka.version),url:window.location.host}},"*"),null===(t=pr)||void 0===t||t.postMessage({type:"extension",extensions:yr()},"*"),null===(a=pr)||void 0===a||a.postMessage({type:"settings",settings:i()},"*"),r.abrupt("break",19);case 12:return r.next=14,window.eureka.loader.load(e.data.info.url,e.data.info.sandboxed?"sandboxed":"unsandboxed");case 14:return null===(o=pr)||void 0===o||o.postMessage({type:"extension",extensions:yr()},"*"),r.abrupt("break",19);case 16:return window.eureka.settings[e.data.item.name]=e.data.item.value,null===(c=pr)||void 0===c||c.postMessage({type:"settings",settings:i()},"*"),r.abrupt("break",19);case 19:case"end":return r.stop()}}),r)})),vr=function(){var e=this,n=arguments;return new Promise((function(t,a){var o=r.apply(e,n);function i(r){fr(o,t,a,i,c,"next",r)}function c(r){fr(o,t,a,i,c,"throw",r)}i(void 0)}))},vr.apply(this,arguments)}window.addEventListener("message",(function(r){return vr.apply(this,arguments)}));const mr=function(r){pr=r("https://eureka.codingclip.cc/#manage","Eureka","popup=yes,status=no,location=no,toolbar=no,menubar=no")},br=JSON.parse('{"zh-cn":{"eureka.openFrontend":"🎨 打开面板","eureka.sideload":"🌏 从 URL 侧载扩展","eureka.sideloadTemporarily":"📄 从文件侧载扩展","eureka.errorIgnored":"❌ 在加载扩展扩展时出现错误。为了避免加载进程的中断，此错误已被忽略。","eureka.exprimentalFileWarning":"🛠️ 这是一项实验性功能 -- 刷新页面后扩展将不可用。\\n确定要继续么？","eureka.tryLoad":"🤨 项目正从 {url} 加载扩展 {extensionURL}。要通过 Eureka 进行加载吗?","eureka.tryLoadInEnv":"🤨 项目正以 {env} 模式从 {url} 加载扩展 {extensionURL}。要加载么？","eureka.loadInSandbox":"🤨 要以沙箱模式加载扩展么？\\n\\n✅ [确定] 以沙箱模式加载扩展。\\n❌ [取消] 以非沙箱模式加载扩展（不安全）。","eureka.enterURL":"🌐 输入 URL。"},"en":{"eureka.openFrontend":"🎨 Open Frontend","eureka.sideload":"🌎 Sideload from URL","eureka.sideloadTemporarily":"📄 Sideload from File","eureka.errorIgnored":"❌ Error occurred while sideloading extension. To avoid interrupting the loading process, we chose to ignore this error.","eureka.exprimentalFileWarning":"🛠️ This is an experimental feature -- the extension will be unavailable after reloading.\\nAre you sure you want to continue?","eureka.tryLoad":"🤨 Project is trying to loading {extensionURL} from {url}. Do you want to load via Eureka?","eureka.tryLoadInEnv":"🤨 Project is trying to sideloading {extensionURL} from {url} in {env} mode. Do you want to load?","eureka.loadInSandbox":"🤨 Do you want to load it as sandbox extension?\\n\\n✅ [OK] Load it as sandboxed extension.\\n❌ [Cancel] Load it as unsandboxed extension (insecure).","eureka.enterURL":"🌐 Enter URL."},"ja":{"eureka.openFrontend":"🎨 ダッシュボードを開く","eureka.sideload":"🌏 URL から拡張機能を導入","eureka.sideloadTemporarily":"📄 ファイルから拡張機能を導入","eureka.errorIgnored":"❌ 拡張機能のサイドロード中でエラーが発生しました。ロードの中断を防ぐために、このエラーは無視しました。","eureka.exprimentalFileWarning":"🛠️ これは実験機能であり -- ページをリロードしたら、拡張機能は使用できなくなります。\\nよろしいですか？","eureka.tryLoad":"🤨 プロジェクトは {url} から {extensionURL} をサイドロードしています。ロードしますか？","eureka.tryLoadInEnv":"🤨 プロジェクトは {env} モードで、{url} から {extensionURL} をサイドロードしています。ロードしますか？","eureka.loadInSandbox":"🤨 サンドボックス拡張機能としてロードしますか？\\n\\n✅ [OK] サンドボックス拡張機能としてロードします。\\n❌ [キャンセル] 非サンドボックス拡張機能としてロードします（危険）。","eureka.enterURL":"🌐 URL を入力してください。"}}');var gr=n.t(br,2);function wr(r,e){return function(r){if(Array.isArray(r))return r}(r)||function(r,e){var n=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=n){var t,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(r)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(t=o.call(n)).done)&&(c.push(t.value),c.length!==e);l=!0);}catch(r){u=!0,a=r}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(r,e)||kr(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xr(r,e){var n="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=kr(r))||e&&r&&"number"==typeof r.length){n&&(r=n);var t=0,a=function(){};return{s:a,n:function(){return t>=r.length?{done:!0}:{done:!1,value:r[t++]}},e:function(r){throw r},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(r)},n:function(){var r=n.next();return i=r.done,r},e:function(r){c=!0,o=r},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function kr(r,e){if(r){if("string"==typeof r)return Sr(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);return"Object"===n&&r.constructor&&(n=r.constructor.name),"Map"===n||"Set"===n?Array.from(r):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sr(r,e):void 0}}function Sr(r,e){(null==e||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}function Er(){Er=function(){return e};var r,e={},n=Object.prototype,t=n.hasOwnProperty,a=Object.defineProperty||function(r,e,n){r[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(r,e,n){return Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),r[e]}try{u({},"")}catch(r){u=function(r,e,n){return r[e]=n}}function s(r,e,n,t){var o=e&&e.prototype instanceof m?e:m,i=Object.create(o.prototype),c=new I(t||[]);return a(i,"_invoke",{value:L(r,n,c)}),i}function f(r,e,n){try{return{type:"normal",arg:r.call(e,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=s;var d="suspendedStart",h="suspendedYield",p="executing",y="completed",v={};function m(){}function b(){}function g(){}var w={};u(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(A([])));k&&k!==n&&t.call(k,i)&&(w=k);var S=g.prototype=m.prototype=Object.create(w);function E(r){["next","throw","return"].forEach((function(e){u(r,e,(function(r){return this._invoke(e,r)}))}))}function O(r,e){function n(a,o,i,c){var l=f(r[a],r,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==jr(s)&&t.call(s,"__await")?e.resolve(s.__await).then((function(r){n("next",r,i,c)}),(function(r){n("throw",r,i,c)})):e.resolve(s).then((function(r){u.value=r,i(u)}),(function(r){return n("throw",r,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(r,t){function a(){return new e((function(e,a){n(r,t,e,a)}))}return o=o?o.then(a,a):a()}})}function L(e,n,t){var a=d;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===y){if("throw"===o)throw i;return{value:r,done:!0}}for(t.method=o,t.arg=i;;){var c=t.delegate;if(c){var l=j(c,t);if(l){if(l===v)continue;return l}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if(a===d)throw a=y,t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);a=p;var u=f(e,n,t);if("normal"===u.type){if(a=t.done?y:h,u.arg===v)continue;return{value:u.arg,done:t.done}}"throw"===u.type&&(a=y,t.method="throw",t.arg=u.arg)}}}function j(e,n){var t=n.method,a=e.iterator[t];if(a===r)return n.delegate=null,"throw"===t&&e.iterator.return&&(n.method="return",n.arg=r,j(e,n),"throw"===n.method)||"return"!==t&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+t+"' method")),v;var o=f(a,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=r),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function M(r){var e={tryLoc:r[0]};1 in r&&(e.catchLoc=r[1]),2 in r&&(e.finallyLoc=r[2],e.afterLoc=r[3]),this.tryEntries.push(e)}function _(r){var e=r.completion||{};e.type="normal",delete e.arg,r.completion=e}function I(r){this.tryEntries=[{tryLoc:"root"}],r.forEach(M,this),this.reset(!0)}function A(e){if(e||""===e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function n(){for(;++a<e.length;)if(t.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=r,n.done=!0,n};return o.next=o}}throw new TypeError(jr(e)+" is not iterable")}return b.prototype=g,a(S,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),e.isGeneratorFunction=function(r){var e="function"==typeof r&&r.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,g):(r.__proto__=g,u(r,l,"GeneratorFunction")),r.prototype=Object.create(S),r},e.awrap=function(r){return{__await:r}},E(O.prototype),u(O.prototype,c,(function(){return this})),e.AsyncIterator=O,e.async=function(r,n,t,a,o){void 0===o&&(o=Promise);var i=new O(s(r,n,t,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(r){return r.done?r.value:i.next()}))},E(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(r){var e=Object(r),n=[];for(var t in e)n.push(t);return n.reverse(),function r(){for(;n.length;){var t=n.pop();if(t in e)return r.value=t,r.done=!1,r}return r.done=!0,r}},e.values=A,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(_),!e)for(var n in this)"t"===n.charAt(0)&&t.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=r)},stop:function(){this.done=!0;var r=this.tryEntries[0].completion;if("throw"===r.type)throw r.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(t,a){return c.type="throw",c.arg=e,n.next=t,a&&(n.method="next",n.arg=r),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=t.call(i,"catchLoc"),u=t.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(r,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&t.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===r||"continue"===r)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=r,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(r,e){if("throw"===r.type)throw r.arg;return"break"===r.type||"continue"===r.type?this.next=r.arg:"return"===r.type?(this.rval=this.arg=r.arg,this.method="return",this.next="end"):"normal"===r.type&&e&&(this.next=e),v},finish:function(r){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===r)return this.complete(n.completion,n.afterLoc),_(n),v}},catch:function(r){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===r){var t=n.completion;if("throw"===t.type){var a=t.arg;_(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,n,t){return this.delegate={iterator:A(e),resultName:n,nextLoc:t},"next"===this.method&&(this.arg=r),v}},e}function Or(r,e,n,t,a,o,i){try{var c=r[o](i),l=c.value}catch(r){return void n(r)}c.done?e(l):Promise.resolve(l).then(t,a)}function Lr(r){return function(){var e=this,n=arguments;return new Promise((function(t,a){var o=r.apply(e,n);function i(r){Or(o,t,a,i,c,"next",r)}function c(r){Or(o,t,a,i,c,"throw",r)}i(void 0)}))}}function jr(r){return jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},jr(r)}var Mr=3e4;function _r(r){var e=r.indexOf("_"),n=r.substring(0,e).replace(/[^\w-]/g,"-");if(""!==n)return n}function Ir(r){return Ar.apply(this,arguments)}function Ar(){return(Ar=Lr(Er().mark((function r(e){var n,t,a;return Er().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=(t=function(){var r;function n(r){var e=Function.prototype.apply;Function.prototype.apply=function(r){return r};var n=r();return Function.prototype.apply=e,n}var t=null===(r=e._events)||void 0===r?void 0:r.EXTENSION_ADDED;if(t)if(t instanceof Function){var a=n(t);if(a&&"object"===jr(a)&&"ScratchBlocks"in a)return a.ScratchBlocks}else{var o,i=xr(t);try{for(i.s();!(o=i.n()).done;){var c=n(o.value);if(c&&"object"===jr(c)&&"ScratchBlocks"in c)return c.ScratchBlocks}}catch(r){i.e(r)}finally{i.f()}}return null})(),r.abrupt("return",null!==(n=a)&&void 0!==n?n:new Promise((function(r){var n=void 0;Reflect.defineProperty(e._events,"EXTENSION_ADDED",{get:function(){return n},set:function(o){n=o,(a=t())&&(Reflect.defineProperty(e._events,"EXTENSION_ADDED",{value:n,writable:!0}),r(a))},configurable:!0})})));case 3:case"end":return r.stop()}}),r)})))).apply(this,arguments)}function Tr(){window.eureka={version:"8.1",registeredExtension:{},settings:c,openFrontend:mr.bind(null,window.open)}}function Pr(){return Rr.apply(this,arguments)}function Rr(){return Rr=Lr(Er().mark((function r(){var e,n;return Er().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return(0,t.Rm)("Listening bind function..."),e=Function.prototype.bind,r.prev=2,r.next=5,new Promise((function(r,n){var a=setTimeout((function(){(0,t.Rm)("Cannot find vm instance, stop listening."),Function.prototype.bind=e,n()}),Mr);Function.prototype.bind=function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return Function.prototype.bind===e?e.apply(this,o):o[0]&&Object.prototype.hasOwnProperty.call(o[0],"editingTarget")&&Object.prototype.hasOwnProperty.call(o[0],"runtime")?((0,t.Rm)("VM detected!"),Function.prototype.bind=e,clearTimeout(a),r(o[0]),e.apply(this,o)):e.apply(this,o)}}));case 5:return n=r.sent,r.abrupt("return",n);case 9:return r.prev=9,r.t0=r.catch(2),r.abrupt("return",null);case 12:case"end":return r.stop()}}),r,null,[[2,9]])}))),Rr.apply(this,arguments)}function Nr(r){var e=window.eureka.loader=new lr(r),n=r.extensionManager.loadExtensionURL,a=function(r){var e=r.getLocale,n=p().namespace();return n.setup({locale:e?e.call(r):"en",missingTranslation:"ignore",generateId:function(r){return"".concat(r)},translations:gr}),window.eureka.format=n,n}(r);r.extensionManager.loadExtensionURL=function(){var r=Lr(Er().mark((function r(o){var i,c,l,u,s,f,d=arguments;return Er().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(i=d.length,c=new Array(i>1?i-1:0),l=1;l<i;l++)c[l-1]=d[l];if(!(o in window.eureka.registeredExtension)){r.next=19;break}if(u=window.eureka.registeredExtension[o],s=u.url,f=u.env,r.prev=3,!window.eureka.settings.noConfirmDialog&&!(f?confirm(a("eureka.tryLoadInEnv",{extensionURL:o,url:s,env:f})):!window.eureka.settings.sideloadOnly&&confirm(a("eureka.tryLoad",{extensionURL:o,url:s})))){r.next=11;break}return r.next=9,e.load(s,f||(confirm(a("eureka.loadInSandbox"))?"sandboxed":"unsandboxed"));case 9:r.next=12;break;case 11:return r.abrupt("return",n.call.apply(n,[this,o].concat(c)));case 12:r.next=17;break;case 14:r.prev=14,r.t0=r.catch(3),(0,t.z3)(a("eureka.errorIgnored"),r.t0);case 17:r.next=20;break;case 19:return r.abrupt("return",n.call.apply(n,[this,o].concat(c)));case 20:case"end":return r.stop()}}),r,this,[[3,14]])})));return function(e){return r.apply(this,arguments)}}();var o=r.extensionManager.refreshBlocks;r.extensionManager.refreshBlocks=Lr(Er().mark((function r(){var e,n,t,a,i=arguments;return Er().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(e=i.length,n=new Array(e),t=0;t<e;t++)n[t]=i[t];return r.next=3,o.call.apply(o,[this].concat(n));case 3:return a=r.sent,r.next=6,window.eureka.loader.refreshBlocks();case 6:return r.abrupt("return",a);case 7:case"end":return r.stop()}}),r,this)})));var i=r.toJSON;r.toJSON=function(r){for(var e=arguments.length,n=new Array(e>1?e-1:0),t=1;t<e;t++)n[t-1]=arguments[t];var a,o=i.call.apply(i,[this,r].concat(n)),c=JSON.parse(o),l={},u={},s=[],f=xr(window.eureka.loader.loadedScratchExtension.entries());try{for(f.s();!(a=f.n()).done;){var d=wr(a.value,2),h=d[0],p=d[1];p.url.startsWith("blob:")||(l[h]=p.url,u[h]=p.env,s.push(h))}}catch(r){f.e(r)}finally{f.f()}if(c.sideloadExtensionURLs=l,c.sideloadExtensionEnvs=u,window.eureka.settings.convertProcCall)if("targets"in c){var y,v=xr(c.targets);try{for(v.s();!(y=v.n()).done;){var m=y.value;for(var b in m.blocks){var g=m.blocks[b];if(g.opcode){var w=_r(g.opcode);w&&s.includes(w)&&("mutation"in g||(g.mutation={}),g.mutation.proccode="[📎 Sideload] ".concat(g.opcode),g.mutation.children=[],g.mutation.tagName="mutation",g.opcode="procedures_call")}}}}catch(r){v.e(r)}finally{v.f()}for(var x in c.monitors){var k=c.monitors[x];if(k.opcode){var S=_r(k.opcode);S&&s.includes(S)&&("sideloadMonitors"in c||(c.sideloadMonitors=[]),c.sideloadMonitors.push(k),c.monitors.splice(x,1))}}}else for(var E in c.blocks){var O=c.blocks[E];if(O.opcode){var L=_r(O.opcode);L&&s.includes(L)&&("mutation"in O||(O.mutation={}),O.mutation.proccode="[📎 Sideload] ".concat(O.opcode),O.mutation.children=[],O.mutation.tagName="mutation",O.opcode="procedures_call")}}return JSON.stringify(c)};var c=r.deserializeProject;r.deserializeProject=function(r){if("object"===jr(r.extensionURLs)||"object"===jr(r.sideloadExtensionURLs)){var e,n="object"===jr(r.sideloadExtensionURLs)?r.sideloadExtensionURLs:{},a="object"===jr(r.sideloadExtensionEnvs)?r.sideloadExtensionEnvs:{};if(r.extensionEnvs)for(var o in(0,t.Rm)("Old eureka-ify project detected, migrating..."),a=r.sideloadExtensionEnvs=r.extensionEnvs,delete r.extensionEnvs,r.sideloadExtensionEnvs)o in r.extensionURLs&&(n[o]=r.extensionURLs[o],delete r.extensionURLs[o]);for(var i in n){var l;window.eureka.registeredExtension[i]={url:String(n[i]),env:String(null!==(l=a[i])&&void 0!==l?l:"sandboxed")}}if(r.targets instanceof Array){var u,s=xr(r.targets);try{for(s.s();!(u=s.n()).done;){var f=u.value;for(var d in f.blocks){var h=f.blocks[d];if("procedures_call"===h.opcode&&"mutation"in h){if(!h.mutation.proccode.trim().startsWith("[📎 Sideload] "))continue;var p=h.mutation.proccode.trim().substring(14),y=_r(p);if(!y){(0,t.R8)("find a sideload block with an invalid id: ".concat(p,", ignored."));continue}if(!(y in window.eureka.registeredExtension)){(0,t.R8)("find a sideload block with unregistered extension: ".concat(y,", ignored."));continue}h.opcode=p,delete h.mutation}}}}catch(r){s.e(r)}finally{s.f()}}r.sideloadMonitors instanceof Array&&r.monitors instanceof Array&&((e=r.monitors).push.apply(e,function(r){if(Array.isArray(r))return Sr(r)}(v=r.sideloadMonitors)||function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(v)||kr(v)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),delete r.sideloadMonitors)}for(var v,m=arguments.length,b=new Array(m>1?m-1:0),g=1;g<m;g++)b[g-1]=arguments[g];return c.call.apply(c,[this,r].concat(b))};var l=r._loadExtensions;"function"==typeof l&&(r._loadExtensions=function(r,e){var n,t,a=[],o=xr(r);try{for(o.s();!(n=o.n()).done;){var i=n.value;if(i in window.eureka.registeredExtension){var c=this.extensionManager.loadExtensionURL(i);null!==(t=c)&&"object"===jr(t)&&"function"==typeof t.then&&a.push(c),r.delete(i)}}}catch(r){o.e(r)}finally{o.f()}for(var u=arguments.length,s=new Array(u>2?u-2:0),f=2;f<u;f++)s[f-2]=arguments[f];return Promise.all([l.call.apply(l,[this,r,e].concat(s))].concat(a))});var u=r.setLocale;r.setLocale=function(e){a.setup({locale:e,missingTranslation:"ignore",generateId:function(r){return"".concat(r)},translations:gr});for(var n=arguments.length,t=new Array(n>1?n-1:0),o=1;o<n;o++)t[o-1]=arguments[o];var i=u.call.apply(u,[this,e].concat(t));return r.emit("LOCALE_CHANGED",e),i};var s=r.runtime._primitives.argument_reporter_boolean;if(r.runtime._primitives.argument_reporter_boolean=function(r){switch(r.VALUE){case"🧐 Chibi?":return(0,t.R8)("'🧐 Chibi?' is deprecated, use '🧐 Eureka?' instead."),!0;case"🧐 Chibi Installed?":return(0,t.R8)("'🧐 Chibi Installed?' is deprecated, use '🧐 Eureka?' instead."),!0;case"🧐 Eureka?":return!True;default:for(var e=arguments.length,n=new Array(e>1?e-1:0),a=1;a<e;a++)n[a-1]=arguments[a];return s.call.apply(s,[this,r].concat(n))}},"object"===jr(r.ccExtensionManager)){var f=r.ccExtensionManager.getExtensionLoadOrder;r.ccExtensionManager.getExtensionLoadOrder=function(e){var n,t=xr(e);try{for(t.s();!(n=t.n()).done;){var a=n.value;!Object.prototype.hasOwnProperty.call(r.ccExtensionManager.info,a)&&a in window.eureka.registeredExtension&&(r.ccExtensionManager.info[a]={api:0})}}catch(r){t.e(r)}finally{t.f()}for(var o=arguments.length,i=new Array(o>1?o-1:0),c=1;c<o;c++)i[c-1]=arguments[c];return f.call.apply(f,[this,e].concat(i))}}}function Cr(r){var e=window.eureka.format;if(!e)return(0,t.z3)("You should inject VM first");if("object"===jr(r)){window.eureka.blockly=r;var n=r.Procedures.addCreateButton_;r.Procedures.addCreateButton_=function(r,t){for(var a=arguments.length,o=new Array(a>2?a-2:0),i=2;i<a;i++)o[i-2]=arguments[i];n.call.apply(n,[this,r,t].concat(o)),Dr(t,r,e)};var a=r.getMainWorkspace();a.getToolbox().refreshSelection(),a.toolboxRefreshEnabled_=!0}else{var o;(0,t.R8)("Cannot find real blockly instance, try alternative method...");var i=null===(o=window.Blockly)||void 0===o||null===(o=o.getMainWorkspace())||void 0===o||null===(o=o.toolboxCategoryCallbacks_)||void 0===o?void 0:o.PROCEDURE;if("function"!=typeof i)return void(0,t.z3)("alternative method failed, stop injecting");window.Blockly.getMainWorkspace().toolboxCategoryCallbacks_.PROCEDURE=function(r){for(var n=arguments.length,t=new Array(n>1?n-1:0),a=1;a<n;a++)t[a-1]=arguments[a];var o=i.call.apply(i,[this,r].concat(t));return Dr(o,r,e),o};var c=window.Blockly.getMainWorkspace();c.getToolbox().refreshSelection(),c.toolboxRefreshEnabled_=!0}}function Dr(r,e,n){var t=document.createElement("sep");t.setAttribute("gap","36"),r.push(t);var a=document.createElement("label");a.setAttribute("text","💡 Eureka"),r.push(a);var o=document.createElement("button");o.setAttribute("text",n("eureka.openFrontend")),o.setAttribute("callbackKey","EUREKA_FRONTEND"),e.registerButtonCallback("EUREKA_FRONTEND",(function(){window.eureka.openFrontend()})),r.push(o);var i=document.createElement("button");i.setAttribute("text",n("eureka.sideload")),i.setAttribute("callbackKey","EUREKA_SIDELOAD_FROM_URL"),e.registerButtonCallback("EUREKA_SIDELOAD_FROM_URL",(function(){var r=prompt(n("eureka.enterURL"));if(r){var e=confirm(n("eureka.loadInSandbox"))?"sandboxed":"unsandboxed";window.eureka.loader.load(r,e)}})),r.push(i);var c=document.createElement("button");c.setAttribute("text",n("eureka.sideloadTemporarily")),c.setAttribute("callbackKey","EUREKA_SIDELOAD_FROM_FILE_TEMPORAILY"),e.registerButtonCallback("EUREKA_SIDELOAD_FROM_FILE_TEMPORAILY",(function(){if(confirm(n("eureka.exprimentalFileWarning"))){var r=document.createElement("input");r.setAttribute("type","file"),r.setAttribute("accept",".js"),r.setAttribute("multiple","true"),r.addEventListener("change",function(){var r=Lr(Er().mark((function r(e){var t,a,o,i,c,l;return Er().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=e.target.files){r.next=3;break}return r.abrupt("return");case 3:a=xr(t),r.prev=4,a.s();case 6:if((o=a.n()).done){r.next=18;break}return i=o.value,c=URL.createObjectURL(i),l=confirm(n("eureka.loadInSandbox"))?"sandboxed":"unsandboxed",r.prev=10,r.next=13,window.eureka.loader.load(c,l);case 13:return r.prev=13,URL.revokeObjectURL(c),r.finish(13);case 16:r.next=6;break;case 18:r.next=23;break;case 20:r.prev=20,r.t0=r.catch(4),a.e(r.t0);case 23:return r.prev=23,a.f(),r.finish(23);case 26:case"end":return r.stop()}}),r,null,[[4,20,23,26],[10,,13,16]])})));return function(e){return r.apply(this,arguments)}}()),r.click()}})),r.push(c);var l=document.createElement("mutation");l.setAttribute("eureka","installed");var u=document.createElement("field");u.setAttribute("name","VALUE"),u.innerHTML="🧐 Eureka?";var s=document.createElement("block");return s.setAttribute("type","argument_reporter_boolean"),s.setAttribute("gap","16"),s.appendChild(u),s.appendChild(l),r.push(s),r}},510:(r,e,n)=>{"use strict";function t(){for(var r,e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];(r=console).log.apply(r,["%c💡 Eureka"," background-color: #fecd00; border-radius: 1rem; margin-right: 0.25rem; padding: 0 0.5rem; color: #271919;"].concat(n))}function a(){for(var r,e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];(r=console).warn.apply(r,["%c🎃 Eureka"," background-color: #fecd00; border-radius: 1rem; margin-right: 0.25rem; padding: 0 0.5rem; color: #271919;"].concat(n))}function o(){for(var r,e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];(r=console).error.apply(r,["%c🚨 Eureka"," background-color: #fecd00; border-radius: 1rem; margin-right: 0.25rem; padding: 0 0.5rem; color: #271919;"].concat(n))}n.d(e,{R8:()=>a,Rm:()=>t,z3:()=>o})},183:r=>{"use strict";r.exports=function(r,e,n,t){var a=self||window;try{try{var o;try{o=new a.Blob([r])}catch(e){(o=new(a.BlobBuilder||a.WebKitBlobBuilder||a.MozBlobBuilder||a.MSBlobBuilder)).append(r),o=o.getBlob()}var i=a.URL||a.webkitURL,c=i.createObjectURL(o),l=new a[e](c,n);return i.revokeObjectURL(c),l}catch(t){return new a[e]("data:application/javascript,".concat(encodeURIComponent(r)),n)}}catch(r){if(!t)throw Error("Inline worker is not supported");return new a[e](t,n)}}},541:r=>{var e="long",n="short",t="narrow",a="numeric",o="2-digit";r.exports={number:{decimal:{style:"decimal"},integer:{style:"decimal",maximumFractionDigits:0},currency:{style:"currency",currency:"USD"},percent:{style:"percent"},default:{style:"decimal"}},date:{short:{month:a,day:a,year:o},medium:{month:n,day:a,year:a},long:{month:e,day:a,year:a},full:{month:e,day:a,year:a,weekday:e},default:{month:n,day:a,year:a}},time:{short:{hour:a,minute:a},medium:{hour:a,minute:a,second:a},long:{hour:a,minute:a,second:a,timeZoneName:n},full:{hour:a,minute:a,second:a,timeZoneName:n},default:{hour:a,minute:a,second:a}},duration:{default:{hours:{minimumIntegerDigits:1,maximumFractionDigits:0},minutes:{minimumIntegerDigits:2,maximumFractionDigits:0},seconds:{minimumIntegerDigits:2,maximumFractionDigits:3}}},parseNumberPattern:function(r){if(r){var e={},n=r.match(/\b[A-Z]{3}\b/i),t=r.replace(/[^¤]/g,"").length;if(!t&&n&&(t=1),t?(e.style="currency",e.currencyDisplay=1===t?"symbol":2===t?"code":"name",e.currency=n?n[0].toUpperCase():"USD"):r.indexOf("%")>=0&&(e.style="percent"),!/[@#0]/.test(r))return e.style?e:void 0;if(e.useGrouping=r.indexOf(",")>=0,/E\+?[@#0]+/i.test(r)||r.indexOf("@")>=0){var a=r.replace(/E\+?[@#0]+|[^@#0]/gi,"");e.minimumSignificantDigits=Math.min(Math.max(a.replace(/[^@0]/g,"").length,1),21),e.maximumSignificantDigits=Math.min(Math.max(a.length,1),21)}else{for(var o=r.replace(/[^#0.]/g,"").split("."),i=o[0],c=i.length-1;"0"===i[c];)--c;e.minimumIntegerDigits=Math.min(Math.max(i.length-1-c,1),21);var l=o[1]||"";for(c=0;"0"===l[c];)++c;for(e.minimumFractionDigits=Math.min(Math.max(c,0),20);"#"===l[c];)++c;e.maximumFractionDigits=Math.min(Math.max(c,0),20)}return e}},parseDatePattern:function(r){if(r){for(var i={},c=0;c<r.length;){for(var l=r[c],u=1;r[++c]===l;)++u;switch(l){case"G":i.era=5===u?t:4===u?e:n;break;case"y":case"Y":i.year=2===u?o:a;break;case"M":case"L":u=Math.min(Math.max(u-1,0),4),i.month=[a,o,n,e,t][u];break;case"E":case"e":case"c":i.weekday=5===u?t:4===u?e:n;break;case"d":case"D":i.day=2===u?o:a;break;case"h":case"K":i.hour12=!0,i.hour=2===u?o:a;break;case"H":case"k":i.hour12=!1,i.hour=2===u?o:a;break;case"m":i.minute=2===u?o:a;break;case"s":case"S":i.second=2===u?o:a;break;case"z":case"Z":case"v":case"V":i.timeZoneName=1===u?n:e}}return Object.keys(i).length?i:void 0}}}},280:(r,e,n)=>{"use strict";var t=n(541),a=n(450),o=n(235);function i(r,e,n,t,a){var o=r.map((function(r){return function(r,e,n,t,a){if("string"==typeof r){var o=r;return function(){return o}}var l,u=r[0],s=r[1];if(e&&"#"===r[0]){u=e[0];var f=e[2],h=(t.number||d.number)([u,"number"],n);return function(r){return h(c(u,r)-f,r)}}"plural"===s||"selectordinal"===s?(l={},Object.keys(r[3]).forEach((function(e){l[e]=i(r[3][e],r,n,t,a)})),r=[r[0],r[1],r[2],l]):r[2]&&"object"==typeof r[2]&&(l={},Object.keys(r[2]).forEach((function(e){l[e]=i(r[2][e],r,n,t,a)})),r=[r[0],r[1],l]);var p=s&&(t[s]||d[s]);if(p){var y=p(r,n);return function(r){return y(c(u,r),r)}}return a?function(r){return String(c(u,r))}:function(r){return c(u,r)}}(r,e,n,t,a)}));return a?1===o.length?o[0]:function(r){for(var e="",n=0;n<o.length;++n)e+=o[n](r);return e}:function(r){return o.reduce((function(e,n){return e.concat(n(r))}),[])}}function c(r,e){if(e&&r in e)return e[r];for(var n=r.split("."),t=e,a=0,o=n.length;t&&a<o;++a)t=t[n[a]];return t}function l(r,e){var n=r[2],a=t.number[n]||t.parseNumberPattern(n)||t.number.default;return new Intl.NumberFormat(e,a).format}function u(r,e){var n=r[1],a=r[2],o=t[n][a]||t.parseDatePattern(a)||t[n].default;return new Intl.DateTimeFormat(e,o).format}function s(r,e){var n,t="selectordinal"===r[1]?"ordinal":"cardinal",i=r[2],c=r[3];if(Intl.PluralRules&&Intl.PluralRules.supportedLocalesOf(e).length>0)n=new Intl.PluralRules(e,{type:t});else{var l=a(e,o),u=l&&o[l][t]||f;n={select:u}}return function(r,e){return(c["="+ +r]||c[n.select(r-i)]||c.other)(e)}}function f(){return"other"}(e=r.exports=function(r,e,n){return i(r,null,e||"en",n||{},!0)}).toParts=function(r,e,n){return i(r,null,e||"en",n||{},!1)};var d={number:l,ordinal:l,spellout:l,duration:function(r,e){var n=r[2],a=t.duration[n]||t.duration.default,o=new Intl.NumberFormat(e,a.seconds).format,i=new Intl.NumberFormat(e,a.minutes).format,c=new Intl.NumberFormat(e,a.hours).format,l=/^fi$|^fi-|^da/.test(String(e))?".":":";return function(r,e){if(r=+r,!isFinite(r))return o(r);var n=~~(r/60/60),t=~~(r/60%60),a=(n?c(Math.abs(n))+l:"")+i(Math.abs(t))+l+o(Math.abs(r%60));return r<0?c(-1).replace(c(1),a):a}},date:u,time:u,plural:s,selectordinal:s,select:function(r,e){var n=r[2];return function(r,e){return(n[r]||n.other)(e)}}};e.types=d},235:r=>{"use strict";var e="zero",n="one",t="two",a="few",o="many",i="other",c=[function(r){return 1==+r?n:i},function(r){var e=+r;return 0<=e&&e<=1?n:i},function(r){return 0===Math.floor(Math.abs(+r))||1==+r?n:i},function(r){var c=+r;return 0===c?e:1===c?n:2===c?t:3<=c%100&&c%100<=10?a:11<=c%100&&c%100<=99?o:i},function(r){var e=Math.floor(Math.abs(+r)),t=(r+".").split(".")[1].length;return 1===e&&0===t?n:i},function(r){var e=+r;return e%10==1&&e%100!=11?n:2<=e%10&&e%10<=4&&(e%100<12||14<e%100)?a:e%10==0||5<=e%10&&e%10<=9||11<=e%100&&e%100<=14?o:i},function(r){var e=+r;return e%10==1&&e%100!=11&&e%100!=71&&e%100!=91?n:e%10==2&&e%100!=12&&e%100!=72&&e%100!=92?t:(3<=e%10&&e%10<=4||e%10==9)&&(e%100<10||19<e%100)&&(e%100<70||79<e%100)&&(e%100<90||99<e%100)?a:0!==e&&e%1e6==0?o:i},function(r){var e=Math.floor(Math.abs(+r)),t=(r+".").split(".")[1].length,o=+(r+".").split(".")[1];return 0===t&&e%10==1&&e%100!=11||o%10==1&&o%100!=11?n:0===t&&2<=e%10&&e%10<=4&&(e%100<12||14<e%100)||2<=o%10&&o%10<=4&&(o%100<12||14<o%100)?a:i},function(r){var e=Math.floor(Math.abs(+r)),t=(r+".").split(".")[1].length;return 1===e&&0===t?n:2<=e&&e<=4&&0===t?a:0!==t?o:i},function(r){var c=+r;return 0===c?e:1===c?n:2===c?t:3===c?a:6===c?o:i},function(r){var e=Math.floor(Math.abs(+r)),t=+(""+r).replace(/^[^.]*.?|0+$/g,"");return 1==+r||0!==t&&(0===e||1===e)?n:i},function(r){var e=Math.floor(Math.abs(+r)),o=(r+".").split(".")[1].length,c=+(r+".").split(".")[1];return 0===o&&e%100==1||c%100==1?n:0===o&&e%100==2||c%100==2?t:0===o&&3<=e%100&&e%100<=4||3<=c%100&&c%100<=4?a:i},function(r){var e=Math.floor(Math.abs(+r));return 0===e||1===e?n:i},function(r){var e=Math.floor(Math.abs(+r)),t=(r+".").split(".")[1].length,a=+(r+".").split(".")[1];return 0===t&&(1===e||2===e||3===e)||0===t&&e%10!=4&&e%10!=6&&e%10!=9||0!==t&&a%10!=4&&a%10!=6&&a%10!=9?n:i},function(r){var e=+r;return 1===e?n:2===e?t:3<=e&&e<=6?a:7<=e&&e<=10?o:i},function(r){var e=+r;return 1===e||11===e?n:2===e||12===e?t:3<=e&&e<=10||13<=e&&e<=19?a:i},function(r){var e=Math.floor(Math.abs(+r)),c=(r+".").split(".")[1].length;return 0===c&&e%10==1?n:0===c&&e%10==2?t:0!==c||e%100!=0&&e%100!=20&&e%100!=40&&e%100!=60&&e%100!=80?0!==c?o:i:a},function(r){var e=Math.floor(Math.abs(+r)),a=(r+".").split(".")[1].length,c=+r;return 1===e&&0===a?n:2===e&&0===a?t:0===a&&(c<0||10<c)&&c%10==0?o:i},function(r){var e=Math.floor(Math.abs(+r)),t=+(""+r).replace(/^[^.]*.?|0+$/g,"");return 0===t&&e%10==1&&e%100!=11||0!==t?n:i},function(r){var e=+r;return 1===e?n:2===e?t:i},function(r){var t=+r;return 0===t?e:1===t?n:i},function(r){var t=Math.floor(Math.abs(+r)),a=+r;return 0===a?e:0!==t&&1!==t||0===a?i:n},function(r){var e=+(r+".").split(".")[1],t=+r;return t%10==1&&(t%100<11||19<t%100)?n:2<=t%10&&t%10<=9&&(t%100<11||19<t%100)?a:0!==e?o:i},function(r){var t=(r+".").split(".")[1].length,a=+(r+".").split(".")[1],o=+r;return o%10==0||11<=o%100&&o%100<=19||2===t&&11<=a%100&&a%100<=19?e:o%10==1&&o%100!=11||2===t&&a%10==1&&a%100!=11||2!==t&&a%10==1?n:i},function(r){var e=Math.floor(Math.abs(+r)),t=(r+".").split(".")[1].length,a=+(r+".").split(".")[1];return 0===t&&e%10==1&&e%100!=11||a%10==1&&a%100!=11?n:i},function(r){var e=Math.floor(Math.abs(+r)),t=(r+".").split(".")[1].length,o=+r;return 1===e&&0===t?n:0!==t||0===o||1!==o&&1<=o%100&&o%100<=19?a:i},function(r){var e=+r;return 1===e?n:0===e||2<=e%100&&e%100<=10?a:11<=e%100&&e%100<=19?o:i},function(r){var e=Math.floor(Math.abs(+r)),t=(r+".").split(".")[1].length;return 1===e&&0===t?n:0===t&&2<=e%10&&e%10<=4&&(e%100<12||14<e%100)?a:0===t&&1!==e&&0<=e%10&&e%10<=1||0===t&&5<=e%10&&e%10<=9||0===t&&12<=e%100&&e%100<=14?o:i},function(r){var e=Math.floor(Math.abs(+r));return 0<=e&&e<=1?n:i},function(r){var e=Math.floor(Math.abs(+r)),t=(r+".").split(".")[1].length;return 0===t&&e%10==1&&e%100!=11?n:0===t&&2<=e%10&&e%10<=4&&(e%100<12||14<e%100)?a:0===t&&e%10==0||0===t&&5<=e%10&&e%10<=9||0===t&&11<=e%100&&e%100<=14?o:i},function(r){var e=+r;return 0===Math.floor(Math.abs(+r))||1===e?n:2<=e&&e<=10?a:i},function(r){var e=Math.floor(Math.abs(+r)),t=+(r+".").split(".")[1],a=+r;return 0===a||1===a||0===e&&1===t?n:i},function(r){var e=Math.floor(Math.abs(+r)),o=(r+".").split(".")[1].length;return 0===o&&e%100==1?n:0===o&&e%100==2?t:0===o&&3<=e%100&&e%100<=4||0!==o?a:i},function(r){var e=+r;return 0<=e&&e<=1||11<=e&&e<=99?n:i},function(r){var e=+r;return 1===e||5===e||7===e||8===e||9===e||10===e?n:2===e||3===e?t:4===e?a:6===e?o:i},function(r){var e=Math.floor(Math.abs(+r));return e%10==1||e%10==2||e%10==5||e%10==7||e%10==8||e%100==20||e%100==50||e%100==70||e%100==80?n:e%10==3||e%10==4||e%1e3==100||e%1e3==200||e%1e3==300||e%1e3==400||e%1e3==500||e%1e3==600||e%1e3==700||e%1e3==800||e%1e3==900?a:0===e||e%10==6||e%100==40||e%100==60||e%100==90?o:i},function(r){var e=+r;return e%10!=2&&e%10!=3||e%100==12||e%100==13?i:a},function(r){var e=+r;return 1===e||3===e?n:2===e?t:4===e?a:i},function(r){var c=+r;return 0===c||7===c||8===c||9===c?e:1===c?n:2===c?t:3===c||4===c?a:5===c||6===c?o:i},function(r){var e=+r;return e%10==1&&e%100!=11?n:e%10==2&&e%100!=12?t:e%10==3&&e%100!=13?a:i},function(r){var e=+r;return 1===e||11===e?n:2===e||12===e?t:3===e||13===e?a:i},function(r){var e=+r;return 1===e?n:2===e||3===e?t:4===e?a:6===e?o:i},function(r){var e=+r;return 1===e||5===e?n:i},function(r){var e=+r;return 11===e||8===e||80===e||800===e?o:i},function(r){var e=Math.floor(Math.abs(+r));return 1===e?n:0===e||2<=e%100&&e%100<=20||e%100==40||e%100==60||e%100==80?o:i},function(r){var e=+r;return e%10==6||e%10==9||e%10==0&&0!==e?o:i},function(r){var e=Math.floor(Math.abs(+r));return e%10==1&&e%100!=11?n:e%10==2&&e%100!=12?t:e%10!=7&&e%10!=8||e%100==17||e%100==18?i:o},function(r){var e=+r;return 1===e?n:2===e||3===e?t:4===e?a:i},function(r){var e=+r;return 1<=e&&e<=4?n:i},function(r){var e=+r;return 1===e||5===e||7<=e&&e<=9?n:2===e||3===e?t:4===e?a:6===e?o:i},function(r){var e=+r;return 1===e?n:e%10==4&&e%100!=14?o:i},function(r){var e=+r;return e%10!=1&&e%10!=2||e%100==11||e%100==12?i:n},function(r){var e=+r;return e%10==6||e%10==9||10===e?a:i},function(r){var e=+r;return e%10==3&&e%100!=13?a:i}];r.exports={af:{cardinal:c[0]},ak:{cardinal:c[1]},am:{cardinal:c[2]},ar:{cardinal:c[3]},ars:{cardinal:c[3]},as:{cardinal:c[2],ordinal:c[34]},asa:{cardinal:c[0]},ast:{cardinal:c[4]},az:{cardinal:c[0],ordinal:c[35]},be:{cardinal:c[5],ordinal:c[36]},bem:{cardinal:c[0]},bez:{cardinal:c[0]},bg:{cardinal:c[0]},bh:{cardinal:c[1]},bn:{cardinal:c[2],ordinal:c[34]},br:{cardinal:c[6]},brx:{cardinal:c[0]},bs:{cardinal:c[7]},ca:{cardinal:c[4],ordinal:c[37]},ce:{cardinal:c[0]},cgg:{cardinal:c[0]},chr:{cardinal:c[0]},ckb:{cardinal:c[0]},cs:{cardinal:c[8]},cy:{cardinal:c[9],ordinal:c[38]},da:{cardinal:c[10]},de:{cardinal:c[4]},dsb:{cardinal:c[11]},dv:{cardinal:c[0]},ee:{cardinal:c[0]},el:{cardinal:c[0]},en:{cardinal:c[4],ordinal:c[39]},eo:{cardinal:c[0]},es:{cardinal:c[0]},et:{cardinal:c[4]},eu:{cardinal:c[0]},fa:{cardinal:c[2]},ff:{cardinal:c[12]},fi:{cardinal:c[4]},fil:{cardinal:c[13],ordinal:c[0]},fo:{cardinal:c[0]},fr:{cardinal:c[12],ordinal:c[0]},fur:{cardinal:c[0]},fy:{cardinal:c[4]},ga:{cardinal:c[14],ordinal:c[0]},gd:{cardinal:c[15],ordinal:c[40]},gl:{cardinal:c[4]},gsw:{cardinal:c[0]},gu:{cardinal:c[2],ordinal:c[41]},guw:{cardinal:c[1]},gv:{cardinal:c[16]},ha:{cardinal:c[0]},haw:{cardinal:c[0]},he:{cardinal:c[17]},hi:{cardinal:c[2],ordinal:c[41]},hr:{cardinal:c[7]},hsb:{cardinal:c[11]},hu:{cardinal:c[0],ordinal:c[42]},hy:{cardinal:c[12],ordinal:c[0]},ia:{cardinal:c[4]},io:{cardinal:c[4]},is:{cardinal:c[18]},it:{cardinal:c[4],ordinal:c[43]},iu:{cardinal:c[19]},iw:{cardinal:c[17]},jgo:{cardinal:c[0]},ji:{cardinal:c[4]},jmc:{cardinal:c[0]},ka:{cardinal:c[0],ordinal:c[44]},kab:{cardinal:c[12]},kaj:{cardinal:c[0]},kcg:{cardinal:c[0]},kk:{cardinal:c[0],ordinal:c[45]},kkj:{cardinal:c[0]},kl:{cardinal:c[0]},kn:{cardinal:c[2]},ks:{cardinal:c[0]},ksb:{cardinal:c[0]},ksh:{cardinal:c[20]},ku:{cardinal:c[0]},kw:{cardinal:c[19]},ky:{cardinal:c[0]},lag:{cardinal:c[21]},lb:{cardinal:c[0]},lg:{cardinal:c[0]},ln:{cardinal:c[1]},lt:{cardinal:c[22]},lv:{cardinal:c[23]},mas:{cardinal:c[0]},mg:{cardinal:c[1]},mgo:{cardinal:c[0]},mk:{cardinal:c[24],ordinal:c[46]},ml:{cardinal:c[0]},mn:{cardinal:c[0]},mo:{cardinal:c[25],ordinal:c[0]},mr:{cardinal:c[2],ordinal:c[47]},mt:{cardinal:c[26]},nah:{cardinal:c[0]},naq:{cardinal:c[19]},nb:{cardinal:c[0]},nd:{cardinal:c[0]},ne:{cardinal:c[0],ordinal:c[48]},nl:{cardinal:c[4]},nn:{cardinal:c[0]},nnh:{cardinal:c[0]},no:{cardinal:c[0]},nr:{cardinal:c[0]},nso:{cardinal:c[1]},ny:{cardinal:c[0]},nyn:{cardinal:c[0]},om:{cardinal:c[0]},or:{cardinal:c[0],ordinal:c[49]},os:{cardinal:c[0]},pa:{cardinal:c[1]},pap:{cardinal:c[0]},pl:{cardinal:c[27]},prg:{cardinal:c[23]},ps:{cardinal:c[0]},pt:{cardinal:c[28]},"pt-PT":{cardinal:c[4]},rm:{cardinal:c[0]},ro:{cardinal:c[25],ordinal:c[0]},rof:{cardinal:c[0]},ru:{cardinal:c[29]},rwk:{cardinal:c[0]},saq:{cardinal:c[0]},sc:{cardinal:c[4],ordinal:c[43]},scn:{cardinal:c[4],ordinal:c[43]},sd:{cardinal:c[0]},sdh:{cardinal:c[0]},se:{cardinal:c[19]},seh:{cardinal:c[0]},sh:{cardinal:c[7]},shi:{cardinal:c[30]},si:{cardinal:c[31]},sk:{cardinal:c[8]},sl:{cardinal:c[32]},sma:{cardinal:c[19]},smi:{cardinal:c[19]},smj:{cardinal:c[19]},smn:{cardinal:c[19]},sms:{cardinal:c[19]},sn:{cardinal:c[0]},so:{cardinal:c[0]},sq:{cardinal:c[0],ordinal:c[50]},sr:{cardinal:c[7]},ss:{cardinal:c[0]},ssy:{cardinal:c[0]},st:{cardinal:c[0]},sv:{cardinal:c[4],ordinal:c[51]},sw:{cardinal:c[4]},syr:{cardinal:c[0]},ta:{cardinal:c[0]},te:{cardinal:c[0]},teo:{cardinal:c[0]},ti:{cardinal:c[1]},tig:{cardinal:c[0]},tk:{cardinal:c[0],ordinal:c[52]},tl:{cardinal:c[13],ordinal:c[0]},tn:{cardinal:c[0]},tr:{cardinal:c[0]},ts:{cardinal:c[0]},tzm:{cardinal:c[33]},ug:{cardinal:c[0]},uk:{cardinal:c[29],ordinal:c[53]},ur:{cardinal:c[4]},uz:{cardinal:c[0]},ve:{cardinal:c[0]},vo:{cardinal:c[0]},vun:{cardinal:c[0]},wa:{cardinal:c[1]},wae:{cardinal:c[0]},xh:{cardinal:c[0]},xog:{cardinal:c[0]},yi:{cardinal:c[4]},zu:{cardinal:c[2]},lo:{ordinal:c[0]},ms:{ordinal:c[0]},vi:{ordinal:c[0]}}},194:(r,e)=>{"use strict";var n="{",t="}",a=",",o="#",i="<",c=">",l="</",u="/>",s="'",f="offset:",d=["number","date","time","ordinal","duration","spellout"],h=["plural","select","selectordinal"];function p(r,e){var n=r.pattern,a=n.length,o=[],i=r.index,c=y(r,e);for(c&&o.push(c),c&&r.tokens&&r.tokens.push(["text",n.slice(i,r.index)]);r.index<a;){if(n[r.index]===t){if(!e)throw S(r);break}if(e&&r.tagsType&&n.slice(r.index,r.index+l.length)===l)break;o.push(b(r)),i=r.index,(c=y(r,e))&&o.push(c),c&&r.tokens&&r.tokens.push(["text",n.slice(i,r.index)])}return o}function y(r,e){for(var a=r.pattern,c=a.length,l="plural"===e||"selectordinal"===e,u=!!r.tagsType,f="{style}"===e,d="";r.index<c;){var h=a[r.index];if(h===n||h===t||l&&h===o||u&&h===i||f&&v(h.charCodeAt(0)))break;if(h===s)if((h=a[++r.index])===s)d+=h,++r.index;else if(h===n||h===t||l&&h===o||u&&h===i||f)for(d+=h;++r.index<c;)if((h=a[r.index])===s&&a[r.index+1]===s)d+=s,++r.index;else{if(h===s){++r.index;break}d+=h}else d+=s;else d+=h,++r.index}return d}function v(r){return r>=9&&r<=13||32===r||133===r||160===r||6158===r||r>=8192&&r<=8205||8232===r||8233===r||8239===r||8287===r||8288===r||12288===r||65279===r}function m(r){for(var e=r.pattern,n=e.length,t=r.index;r.index<n&&v(e.charCodeAt(r.index));)++r.index;t<r.index&&r.tokens&&r.tokens.push(["space",r.pattern.slice(t,r.index)])}function b(r){var e=r.pattern;if(e[r.index]===o)return r.tokens&&r.tokens.push(["syntax",o]),++r.index,[o];var s=function(r){var e=r.tagsType;if(e&&r.pattern[r.index]===i){if(r.pattern.slice(r.index,r.index+l.length)===l)throw S(r,null,"closing tag without matching opening tag");r.tokens&&r.tokens.push(["syntax",i]),++r.index;var n=g(r,!0);if(!n)throw S(r,"placeholder id");if(r.tokens&&r.tokens.push(["id",n]),m(r),r.pattern.slice(r.index,r.index+u.length)===u)return r.tokens&&r.tokens.push(["syntax",u]),r.index+=u.length,[n,e];if(r.pattern[r.index]!==c)throw S(r,c);r.tokens&&r.tokens.push(["syntax",c]),++r.index;var t=p(r,e),a=r.index;if(r.pattern.slice(r.index,r.index+l.length)!==l)throw S(r,l+n+c);r.tokens&&r.tokens.push(["syntax",l]),r.index+=l.length;var o=g(r,!0);if(o&&r.tokens&&r.tokens.push(["id",o]),n!==o)throw r.index=a,S(r,l+n+c,l+o+c);if(m(r),r.pattern[r.index]!==c)throw S(r,c);return r.tokens&&r.tokens.push(["syntax",c]),++r.index,[n,e,{children:t}]}}(r);if(s)return s;if(e[r.index]!==n)throw S(r,n);r.tokens&&r.tokens.push(["syntax",n]),++r.index,m(r);var h=g(r);if(!h)throw S(r,"placeholder id");r.tokens&&r.tokens.push(["id",h]),m(r);var y=e[r.index];if(y===t)return r.tokens&&r.tokens.push(["syntax",t]),++r.index,[h];if(y!==a)throw S(r,a+" or "+t);r.tokens&&r.tokens.push(["syntax",a]),++r.index,m(r);var v,b=g(r);if(!b)throw S(r,"placeholder type");if(r.tokens&&r.tokens.push(["type",b]),m(r),(y=e[r.index])===t){if(r.tokens&&r.tokens.push(["syntax",t]),"plural"===b||"selectordinal"===b||"select"===b)throw S(r,b+" sub-messages");return++r.index,[h,b]}if(y!==a)throw S(r,a+" or "+t);if(r.tokens&&r.tokens.push(["syntax",a]),++r.index,m(r),"plural"===b||"selectordinal"===b){var k=function(r){var e,n=r.pattern,t=n.length,a=0;if(n.slice(r.index,r.index+f.length)===f){r.tokens&&r.tokens.push(["offset","offset"],["syntax",":"]),r.index+=f.length,m(r);for(var o=r.index;r.index<t&&((e=n.charCodeAt(r.index))>=48&&e<=57);)++r.index;if(o===r.index)throw S(r,"offset number");r.tokens&&r.tokens.push(["number",n.slice(o,r.index)]),a=+n.slice(o,r.index)}return a}(r);m(r),v=[h,b,k,x(r,b)]}else if("select"===b)v=[h,b,x(r,b)];else if(d.indexOf(b)>=0)v=[h,b,w(r)];else{var E=r.index,O=w(r);m(r),e[r.index]===n&&(r.index=E,O=x(r,b)),v=[h,b,O]}if(m(r),e[r.index]!==t)throw S(r,t);return r.tokens&&r.tokens.push(["syntax",t]),++r.index,v}function g(r,e){for(var l=r.pattern,u=l.length,f="";r.index<u;){var d=l[r.index];if(d===n||d===t||d===a||d===o||d===s||v(d.charCodeAt(0))||e&&(d===i||d===c||"/"===d))break;f+=d,++r.index}return f}function w(r){var e=r.index,n=y(r,"{style}");if(!n)throw S(r,"placeholder style name");return r.tokens&&r.tokens.push(["style",r.pattern.slice(e,r.index)]),n}function x(r,e){for(var n=r.pattern,a=n.length,o={};r.index<a&&n[r.index]!==t;){var i=g(r);if(!i)throw S(r,"sub-message selector");r.tokens&&r.tokens.push(["selector",i]),m(r),o[i]=k(r,e),m(r)}if(!o.other&&h.indexOf(e)>=0)throw S(r,null,null,'"other" sub-message must be specified in '+e);return o}function k(r,e){if(r.pattern[r.index]!==n)throw S(r,n+" to start sub-message");r.tokens&&r.tokens.push(["syntax",n]),++r.index;var a=p(r,e);if(r.pattern[r.index]!==t)throw S(r,t+" to end sub-message");return r.tokens&&r.tokens.push(["syntax",t]),++r.index,a}function S(r,e,n,t){var a=r.pattern,o=a.slice(0,r.index).split(/\r?\n/),i=r.index,c=o.length,l=o.slice(-1)[0].length;return n=n||(r.index>=a.length?"end of message pattern":g(r)||a[r.index]),t||(t=function(r,e){return r?"Expected "+r+" but found "+e:"Unexpected "+e+" found"}(e,n)),new E(t+=" in "+a.replace(/\r?\n/g,"\n"),e,n,i,c,l)}function E(r,e,n,t,a,o){Error.call(this,r),this.name="SyntaxError",this.message=r,this.expected=e,this.found=n,this.offset=t,this.line=a,this.column=o}e=r.exports=function(r,e){return p({pattern:String(r),index:0,tagsType:e&&e.tagsType||null,tokens:e&&e.tokens||null},"")},E.prototype=Object.create(Error.prototype),e.SyntaxError=E},132:(r,e,n)=>{"use strict";var t=n(194),a=n(280),o=n(235),i=n(450),c=n(541);function l(r,e){return Object.keys(e).forEach((function(n){r[n]=e[n]})),r}r.exports=function r(){var e=l({},c),n="en",u={},s=function(r){return r},f=null,d="warning",h={};function p(r,e,o){var i="string"==typeof r?r:r.default,c=m(i,"object"==typeof r&&r.id||s(i),o||n);return(c.format||(c.format=a(t(c.message),o||n,h)))(e)}p.rich=function(r,e,o){var i="string"==typeof r?r:r.default,c=m(i,"object"==typeof r&&r.id||s(i),o||n);return(c.toParts||(c.toParts=a.toParts(t(c.message,{tagsType:y}),o||n,h)))(e)};var y="<>";function v(r,e){var n=r[2];return function(r,e){var t="object"==typeof n?function(r,e){return Object.keys(r).reduce((function(n,t){return n[t]=r[t](e),n}),{})}(n,e):n;return"function"==typeof r?r(t):r}}function m(r,e,n){var t=i(n,u)||"en",a=u[t]||(u[t]={}),o=a[e];if("string"==typeof o&&(o=a[e]={message:o}),!o){var c='Translation for "'+e+'" in "'+t+'" is missing';if("warning"===d)"undefined"!=typeof console&&console.warn(c);else if("ignore"!==d)throw new Error(c);var l="function"==typeof f?f(r,e,t)||r:f||r;o=a[e]={message:l}}return o}function b(r,e,t,a,c){"object"==typeof t&&"object"!=typeof a&&(c=a,a=t,t=0);var l=i(c||n,o),u=l&&o[l][r]||g;return a["="+ +e]||a[u(e-t)]||a.other}function g(){return"other"}return h[y]=v,p.setup=function(r){return(r=r||{}).locale&&(n=r.locale),"translations"in r&&(u=r.translations||{}),r.generateId&&(s=r.generateId),"missingReplacement"in r&&(f=r.missingReplacement),r.missingTranslation&&(d=r.missingTranslation),r.formats&&(r.formats.number&&l(e.number,r.formats.number),r.formats.date&&l(e.date,r.formats.date),r.formats.time&&l(e.time,r.formats.time)),r.types&&((h=r.types)[y]=v),{locale:n,translations:u,generateId:s,missingReplacement:f,missingTranslation:d,formats:e,types:h}},p.number=function(r,t,a){var o=t&&e.number[t]||e.parseNumberPattern(t)||e.number.default;return new Intl.NumberFormat(a||n,o).format(r)},p.date=function(r,t,a){var o=t&&e.date[t]||e.parseDatePattern(t)||e.date.default;return new Intl.DateTimeFormat(a||n,o).format(r)},p.time=function(r,t,a){var o=t&&e.time[t]||e.parseDatePattern(t)||e.time.default;return new Intl.DateTimeFormat(a||n,o).format(r)},p.select=function(r,e){return e[r]||e.other},p.custom=function(r,e,n,t){return r[1]in h?h[r[1]](r,e)(n,t):n},p.plural=b.bind(null,"cardinal"),p.selectordinal=b.bind(null,"ordinal"),p.namespace=r,p}()},450:r=>{r.exports=function(r,e){if("string"==typeof r&&e[r])return r;for(var n=[].concat(r||[]),t=0,a=n.length;t<a;++t)for(var o=n[t].split("-");o.length;){var i=o.join("-");if(e[i])return i;o.pop()}}}},c={};function l(r){var e=c[r];if(void 0!==e)return e.exports;var n=c[r]={exports:{}};return i[r](n,n.exports,l),n.exports}r="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",e="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",t=r=>{r&&r.d<1&&(r.d=1,r.forEach((r=>r.r--)),r.forEach((r=>r.r--?r.r++:r())))},l.a=(a,o,i)=>{var c;i&&((c=[]).d=-1);var l,u,s,f=new Set,d=a.exports,h=new Promise(((r,e)=>{s=e,u=r}));h[e]=d,h[r]=r=>(c&&r(c),f.forEach(r),h.catch((r=>{}))),a.exports=h,o((a=>{var o;l=(a=>a.map((a=>{if(null!==a&&"object"==typeof a){if(a[r])return a;if(a.then){var o=[];o.d=0,a.then((r=>{i[e]=r,t(o)}),(r=>{i[n]=r,t(o)}));var i={};return i[r]=r=>r(o),i}}var c={};return c[r]=r=>{},c[e]=a,c})))(a);var i=()=>l.map((r=>{if(r[n])throw r[n];return r[e]})),u=new Promise((e=>{(o=()=>e(i)).r=0;var n=r=>r!==c&&!f.has(r)&&(f.add(r),r&&!r.d&&(o.r++,r.push(o)));l.map((e=>e[r](n)))}));return o.r?u:i()}),(r=>(r?s(h[n]=r):u(d),t(c)))),c&&c.d<0&&(c.d=0)},l.n=r=>{var e=r&&r.__esModule?()=>r.default:()=>r;return l.d(e,{a:e}),e},o=Object.getPrototypeOf?r=>Object.getPrototypeOf(r):r=>r.__proto__,l.t=function(r,e){if(1&e&&(r=this(r)),8&e)return r;if("object"==typeof r&&r){if(4&e&&r.__esModule)return r;if(16&e&&"function"==typeof r.then)return r}var n=Object.create(null);l.r(n);var t={};a=a||[null,o({}),o([]),o(o)];for(var i=2&e&&r;"object"==typeof i&&!~a.indexOf(i);i=o(i))Object.getOwnPropertyNames(i).forEach((e=>t[e]=()=>r[e]));return t.default=()=>r,l.d(n,t),n},l.d=(r,e)=>{for(var n in e)l.o(e,n)&&!l.o(r,n)&&Object.defineProperty(r,n,{enumerable:!0,get:e[n]})},l.o=(r,e)=>Object.prototype.hasOwnProperty.call(r,e),l.r=r=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},l.p="./",l(723)})();
